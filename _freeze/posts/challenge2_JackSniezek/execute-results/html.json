{
  "hash": "9c91772bc78dda7ec6ddde253ce4fc41",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2\"\nauthor: \"Jack Sniezek\"\ndesription: \"Data wrangling: using group() and summarise()\"\ndate: \"11/29/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - railroads\n  - faostat\n  - hotel_bookings\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to\n\n1)  read in a data set, and describe the data using both words and any supporting information (e.g., tables, etc)\n2)  provide summary statistics for different interesting groups within the data, and interpret those statistics\n\n## Read in the Data\n\nRead in one (or more) of the following data sets, available in the `posts/_data` folder, using the correct R package and command.\n\n-   railroad\\*.csv or StateCounty2012.xls ⭐\n-   FAOstat\\*.csv or birds.csv ⭐⭐⭐\n-   hotel_bookings.csv ⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbirds <- read_csv(\"_data/birds.csv\")%>%\n  select(-c(contains(\"Code\"), Element, Domain, Unit))\nbirds\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 30,977 × 6\n   Area        Item      Year Value Flag  `Flag Description`\n   <chr>       <chr>    <dbl> <dbl> <chr> <chr>             \n 1 Afghanistan Chickens  1961  4700 F     FAO estimate      \n 2 Afghanistan Chickens  1962  4900 F     FAO estimate      \n 3 Afghanistan Chickens  1963  5000 F     FAO estimate      \n 4 Afghanistan Chickens  1964  5300 F     FAO estimate      \n 5 Afghanistan Chickens  1965  5500 F     FAO estimate      \n 6 Afghanistan Chickens  1966  5800 F     FAO estimate      \n 7 Afghanistan Chickens  1967  6600 F     FAO estimate      \n 8 Afghanistan Chickens  1968  6290 <NA>  Official data     \n 9 Afghanistan Chickens  1969  6300 F     FAO estimate      \n10 Afghanistan Chickens  1970  6000 F     FAO estimate      \n# … with 30,967 more rows\n```\n:::\n\n```{.r .cell-code}\nsummary(birds)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     Area               Item                Year          Value         \n Length:30977       Length:30977       Min.   :1961   Min.   :       0  \n Class :character   Class :character   1st Qu.:1976   1st Qu.:     171  \n Mode  :character   Mode  :character   Median :1992   Median :    1800  \n                                       Mean   :1991   Mean   :   99411  \n                                       3rd Qu.:2005   3rd Qu.:   15404  \n                                       Max.   :2018   Max.   :23707134  \n                                                      NA's   :1036      \n     Flag           Flag Description  \n Length:30977       Length:30977      \n Class :character   Class :character  \n Mode  :character   Mode  :character  \n                                      \n                                      \n                                      \n                                      \n```\n:::\n:::\n\n\n\n## Describe the data\n\nThe birds dataset contained 14 variables, 8 of which are character variables and 6 are numeric variables. It was collected by the Food and Agriculture Association of the United Nations. This dataset features estimates of five types of bird(Chickens, Ducks, Geese and fowls, Turkeys, and Pigeons/Other birds) in 248 regions. The data was collected from 1961-2018.\n\nReading in the data, I chose to omit Element, Domain, and Unit as they are the same for every data point. I also eliminated all of the \"Code\" variables, as they are either redundant, or not useful to work with.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nArea <- select(birds,\"Area\")\nnum_areas <- unique(Area)\nnum_areas\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 248 × 1\n   Area               \n   <chr>              \n 1 Afghanistan        \n 2 Albania            \n 3 Algeria            \n 4 American Samoa     \n 5 Angola             \n 6 Antigua and Barbuda\n 7 Argentina          \n 8 Armenia            \n 9 Aruba              \n10 Australia          \n# … with 238 more rows\n```\n:::\n\n```{.r .cell-code}\nItem <- select(birds,\"Item\")\nnum_items <- unique(Item)\nnum_items\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 × 1\n  Item                  \n  <chr>                 \n1 Chickens              \n2 Ducks                 \n3 Geese and guinea fowls\n4 Turkeys               \n5 Pigeons, other birds  \n```\n:::\n:::\n\n\n## Provide Grouped Summary Statistics\n\nI started my analysis of the birds dataset by taking a look at the average and median stock values by year.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbirds%>%\n    group_by(Year)%>%\n     summarise(avg_stocks = mean(Value, na.rm=TRUE),\n               med_stocks = median(Value, na.rm=TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 58 × 3\n    Year avg_stocks med_stocks\n   <dbl>      <dbl>      <dbl>\n 1  1961     36752.      1033 \n 2  1962     37787.      1014 \n 3  1963     38736.      1106 \n 4  1964     39325.      1103 \n 5  1965     40334.      1104 \n 6  1966     41229.      1088.\n 7  1967     43240.      1193 \n 8  1968     44420.      1252.\n 9  1969     45607.      1267 \n10  1970     47706.      1259 \n# … with 48 more rows\n```\n:::\n:::\n\n\nWhile this was helpful in showing a general trend for the data over the 58 years, it was very basic. The next step I took was to show the average of each Item(type of bird) across each year. I dropped the median because I felt focusing on average would provide more information.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nt1<-birds%>%\n     group_by(Item,Year)%>%\n     summarise(avg_stocks = mean(Value, na.rm=TRUE))%>%\n     pivot_wider(names_from = Year, values_from = (avg_stocks))\nt1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 × 59\n# Groups:   Item [5]\n  Item     `1961` `1962` `1963` `1964` `1965` `1966` `1967` `1968` `1969` `1970`\n  <chr>     <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>\n1 Chickens 74060. 76753. 78922. 80213. 82458. 83880. 88047. 91003. 94121. 98297.\n2 Ducks     7232.  7520.  7861.  8082.  8329.  8592.  8861.  9166.  9257.  9493.\n3 Geese a…  2364.  2435.  2483.  2641.  2808.  2870.  3099.  3245.  3331.  3465.\n4 Pigeons…  3307.  3771.  4004.  4227.  4440.  4630.  4673.  2840.  2978.  3110.\n5 Turkeys  10610.  9043   8377.  7987.  7938.  8546.  8931.  7959.  7998.  9062.\n# … with 48 more variables: `1971` <dbl>, `1972` <dbl>, `1973` <dbl>,\n#   `1974` <dbl>, `1975` <dbl>, `1976` <dbl>, `1977` <dbl>, `1978` <dbl>,\n#   `1979` <dbl>, `1980` <dbl>, `1981` <dbl>, `1982` <dbl>, `1983` <dbl>,\n#   `1984` <dbl>, `1985` <dbl>, `1986` <dbl>, `1987` <dbl>, `1988` <dbl>,\n#   `1989` <dbl>, `1990` <dbl>, `1991` <dbl>, `1992` <dbl>, `1993` <dbl>,\n#   `1994` <dbl>, `1995` <dbl>, `1996` <dbl>, `1997` <dbl>, `1998` <dbl>,\n#   `1999` <dbl>, `2000` <dbl>, `2001` <dbl>, `2002` <dbl>, `2003` <dbl>, …\n```\n:::\n:::\n\n\nFinally, I wanted to try to focus on a singular Area for the table, so naturally I chose to filter the Area by 'Americas' which had some of the largest numbers and is ugly to look at in the rendering. However, it was a very complete data point to focus on so it works out.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nt2<-birds%>%\n     filter(Area == \"Americas\")%>%\n     group_by(Item,Year)%>%\n     summarise(avg_stocks = mean(Value, na.rm=TRUE))%>%\n     pivot_wider(names_from = Year, values_from = (avg_stocks))\nt2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 4 × 59\n# Groups:   Item [4]\n  Item     `1961` `1962` `1963` `1964` `1965` `1966` `1967` `1968` `1969` `1970`\n  <chr>     <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>\n1 Chickens 1.19e6 1.22e6 1.24e6 1.29e6 1.33e6 1.37e6 1.43e6 1.47e6 1.53e6 1.56e6\n2 Ducks    9.64e3 9.99e3 1.07e4 1.10e4 1.13e4 1.19e4 1.18e4 1.20e4 1.20e4 1.21e4\n3 Geese a… 5.53e2 5.61e2 5.95e2 6.07e2 6.18e2 6.43e2 5.95e2 6.23e2 6.59e2 6.65e2\n4 Turkeys  1.19e5 1.03e5 1.05e5 1.13e5 1.18e5 1.30e5 1.39e5 1.20e5 1.20e5 1.31e5\n# … with 48 more variables: `1971` <dbl>, `1972` <dbl>, `1973` <dbl>,\n#   `1974` <dbl>, `1975` <dbl>, `1976` <dbl>, `1977` <dbl>, `1978` <dbl>,\n#   `1979` <dbl>, `1980` <dbl>, `1981` <dbl>, `1982` <dbl>, `1983` <dbl>,\n#   `1984` <dbl>, `1985` <dbl>, `1986` <dbl>, `1987` <dbl>, `1988` <dbl>,\n#   `1989` <dbl>, `1990` <dbl>, `1991` <dbl>, `1992` <dbl>, `1993` <dbl>,\n#   `1994` <dbl>, `1995` <dbl>, `1996` <dbl>, `1997` <dbl>, `1998` <dbl>,\n#   `1999` <dbl>, `2000` <dbl>, `2001` <dbl>, `2002` <dbl>, `2003` <dbl>, …\n```\n:::\n:::\n\n\n### Explain and Interpret\n\nTaking a look at my initial analysis of the average stock values by year, I can see that the stock values increase over time. When I divided the stock values by bird type, I could see that Chickens, Ducks, and Geese have increased steadily almost every year until plateauing in the 2010s. Pigeons peaked in the 1990s and then have leveled out ever since. Turkeys have been hovering around the same since 1980. When I further narrowed down to just the Americas, I noticed that there are no pigeons. Chickens grew steadily each year. Ducks and Turkeys plateaued around 1990. Geese experienced a peak in 1988-1989, and then dropped significantly, and then leveled off. \n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}