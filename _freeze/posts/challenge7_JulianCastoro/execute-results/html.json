{
  "hash": "b40706abff92a6f0bf170a6236056b71",
  "result": {
    "markdown": "---\ntitle: \"Challenge 7 Instructions\"\nauthor: \"Julian Castoro\"\ndescription: \"Visualizing Multiple Dimensions\"\ndate: \"11/2/2022\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_7\n  - debt\n  - Julian Castoro\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(ggforce)\nlibrary(plotly)\nlibrary(readxl)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in a data set, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  Recreate at least two graphs from previous exercises, but introduce at least one additional dimension that you omitted before using ggplot functionality (color, shape, line, facet, etc) The goal is not to create unneeded [chart ink (Tufte)](https://www.edwardtufte.com/tufte/), but to concisely capture variation in additional dimensions that were collapsed in your earlier 2 or 3 dimensional graphs.\n   - Explain why you choose the specific graph type\n5) If you haven't tried in previous weeks, work this week to make your graphs \"publication\" ready with titles, captions, and pretty axis labels and other viewer-friendly features\n\n\n## Read in data\n\nI chose to use the debt dataset from last weeks challenge, it was not listed as a dataset in the template but the challenge says to rework a previous exercise so I am assuming this is ok.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nRawData <- read_excel(\"_data/debt_in_trillions.xlsx\")\nhead(RawData)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 8\n  `Year and Quarter` Mortgage `HE Revolving` Auto …¹ Credi…² Stude…³ Other Total\n  <chr>                 <dbl>          <dbl>   <dbl>   <dbl>   <dbl> <dbl> <dbl>\n1 03:Q1                  4.94          0.242   0.641   0.688   0.241 0.478  7.23\n2 03:Q2                  5.08          0.26    0.622   0.693   0.243 0.486  7.38\n3 03:Q3                  5.18          0.269   0.684   0.693   0.249 0.477  7.56\n4 03:Q4                  5.66          0.302   0.704   0.698   0.253 0.449  8.07\n5 04:Q1                  5.84          0.328   0.72    0.695   0.260 0.446  8.29\n6 04:Q2                  5.97          0.367   0.743   0.697   0.263 0.423  8.46\n# … with abbreviated variable names ¹​`Auto Loan`, ²​`Credit Card`,\n#   ³​`Student Loan`\n```\n:::\n:::\n\n\n### Briefly describe the data\n\nThe data represents the year and quarter in the US and the associated debt spread of its citizens during that time period.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsplitData<- RawData %>%\n  separate(`Year and Quarter`,c('Year','Quarter'),sep = \":\")\nhead(splitData)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 9\n  Year  Quarter Mortgage `HE Revolving` `Auto Loan` Credit…¹ Stude…² Other Total\n  <chr> <chr>      <dbl>          <dbl>       <dbl>    <dbl>   <dbl> <dbl> <dbl>\n1 03    Q1          4.94          0.242       0.641    0.688   0.241 0.478  7.23\n2 03    Q2          5.08          0.26        0.622    0.693   0.243 0.486  7.38\n3 03    Q3          5.18          0.269       0.684    0.693   0.249 0.477  7.56\n4 03    Q4          5.66          0.302       0.704    0.698   0.253 0.449  8.07\n5 04    Q1          5.84          0.328       0.72     0.695   0.260 0.446  8.29\n6 04    Q2          5.97          0.367       0.743    0.697   0.263 0.423  8.46\n# … with abbreviated variable names ¹​`Credit Card`, ²​`Student Loan`\n```\n:::\n:::\n\n\nI pivot the data here so that I could filter by debt type.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlongerSplitData<- splitData%>%\n  pivot_longer(!c(Year,Quarter), names_to = \"DebtType\",values_to = \"DebtPercent\" )\n\nlongerSplitData\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 518 × 4\n   Year  Quarter DebtType     DebtPercent\n   <chr> <chr>   <chr>              <dbl>\n 1 03    Q1      Mortgage           4.94 \n 2 03    Q1      HE Revolving       0.242\n 3 03    Q1      Auto Loan          0.641\n 4 03    Q1      Credit Card        0.688\n 5 03    Q1      Student Loan       0.241\n 6 03    Q1      Other              0.478\n 7 03    Q1      Total              7.23 \n 8 03    Q2      Mortgage           5.08 \n 9 03    Q2      HE Revolving       0.26 \n10 03    Q2      Auto Loan          0.622\n# … with 508 more rows\n```\n:::\n:::\n\n\n## Visualization with Multiple Dimensions\n\nI wanted to rework my second and third from the last exercise, I feel like looking back on them now I am realizing they are more of exploratory graphs and not necessarily \"report ready\" so I wanted to revisit them and spruce them up a bit.\n\nBelow I will show what they originally looked like and discuss what I want to change.\n\n\nSecond Chart original:\n\n::: {.cell}\n\n```{.r .cell-code}\nlongerSplitDataPlot <- longerSplitData%>%\n  ggplot(mapping=aes(x = Year, y = DebtPercent))\n\n\nlongerSplitDataPlot + \n  geom_point(aes(color = DebtType))\n```\n\n::: {.cell-output-display}\n![](challenge7_JulianCastoro_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\nThe objective of this chart was to show the different debt types and how they fluctuated throughout the years. While I had a legend, some color and axis titles I feel like the value of anything other than total and Mortgages are lost.\n\nIn order to improve this chart I will add a title and think of a way to shine some more light on the other debt types.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlongerSplitDataPlot + \n  geom_point(aes(color = DebtType))+\n  labs(title = \"Total National Debt most closely follows Mortgages\",subtitle=\"Student and Auto drive the secondary category\" ,caption = \"data from posts/_data\")+\n  theme(legend.position = \"bottom\")+\n  facet_zoom(y = DebtType == !c(\"Mortgage\",\"Total\"),ylim = c(0,2))\n```\n\n::: {.cell-output-display}\n![](challenge7_JulianCastoro_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n\n\n\nThird chart:\nThis chart really doesn't show anything and without the free scale on each axis it is tough to see any patterns. I wanted to experiment with some themese here and give this chart a title as well as adjust the axis so you can see how each type of debt flwos throughout the year.\n\n::: {.cell}\n\n```{.r .cell-code}\nlongerSplitDataPlot+\n  geom_point() +\n  facet_wrap(~DebtType) +\n  scale_x_discrete(breaks = c('03','06','09',12,15,18,21))\n```\n\n::: {.cell-output-display}\n![](challenge7_JulianCastoro_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlongerSplitDataPlot+\n  geom_point(aes(color = Quarter,alpha=0.9,)) +\n  facet_wrap(~DebtType,scales = \"free_y\") +\n  scale_x_discrete(breaks = c('03','06','09',12,15,18,21))+\n  theme_light() +\n  guides(alpha=\"none\") +\n  labs(title = \"Debt Types per year\" ,caption = \"data from posts/_data\")\n```\n\n::: {.cell-output-display}\n![](challenge7_JulianCastoro_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "challenge7_JulianCastoro_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}