{
  "hash": "2776f1b5e080b8ffdccc8b4fba777b3d",
  "result": {
    "markdown": "---\ntitle: \"Challenge 4\"\nauthor: \"Mariia Dubyk\"\ndesription: \"More data wrangling: pivoting\"\ndate: \"11/03/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_4\n  - abc_poll\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n\n2)  tidy data (as needed, including sanity checks)\n3)  identify variables that need to be mutated\n4)  mutate variables and sanity check all mutations\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n-   abc_poll.csv ‚≠ê\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabc_poll<-read.csv(\"_data/abc_poll_2021.csv\")\nlibrary(summarytools)\nview(dfSummary(abc_poll))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in nchar(xx): invalid multibyte string, element 4\n```\n:::\n:::\n\n\n### Briefly describe the data\nThe dataframe shows responses to the questionnaire. The respondents are adults (age 18-91) from the USA. We can see some demographic data like education, income, age, state, etc (column 4-17). Responses to other questions (probably about views or experience) are in columns 18-28. Column 2 probably identifies language of the respondent. Dataset contains of 527 observations and 30 variables (not including \"id\"). Some variables are dichotomous, and other variables may have several possible values.  \n\n## Tidy Data (as needed)\n\nFrom the first sight data looks tidy. \n- We have each response in a separate column.\n- I did not find missing data. \n- I need to look closer at column 8 \"ppethm\" and think if it would be proper to make two variables of it or remove information after comma.\n- Also it might be easier to understand data if columns had different names. \n\n::: {.cell}\n\n```{.r .cell-code}\nabc_poll<-rename(abc_poll, language = xspanish, age =  ppage, education5 = ppeduc5, education = ppeducat, gender = ppgender, ethnicity = ppethm, household_size = pphhsize, income = ppinc7, marital_status = ppmarit5, region = ppreg4, rent = pprent, state = ppstaten, work = PPWORKA, employment = ppemploy)\nabc_poll <- abc_poll%>%\n  mutate(ethnicity = str_remove (ethnicity, \", Non-Hispanic\"))\n```\n:::\n\n\nAny additional comments?\n\n## Identify variables that need to be mutated\nSome variables should turned into factors. I will try to do it with QPID. This variable need to be reordered so that for example bar chart looked better.\n\nDocument your work here.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabc_poll<-abc_poll %>%\n  mutate(QPID = fct_recode(QPID, \"dem\" = \"A Democrat\",\n                                \"rep\" = \"A Republican\",\n                                \"ind\" = \"An Independent\",\n                                \"na\" = \"Skipped\",\n                              \"other\" = \"Something else\")) %>%\n  mutate(QPID = fct_relevel(QPID, \"dem\", \"ind\", \"rep\",\"other\", \"na\"))\n\nggplot(abc_poll, aes(QPID)) + geom_bar()\n```\n\n::: {.cell-output-display}\n![](challenge4_Dubyk_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nAny additional comments?\n",
    "supporting": [
      "challenge4_Dubyk_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}