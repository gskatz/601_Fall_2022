{
  "hash": "e158d98016c802206d5b63da263cf3aa",
  "result": {
    "markdown": "---\ntitle: \"Challenge 3\"\nauthor: \"Lai Wei\"\ndesription: \"Tidy Data: Pivoting\"\ndate: \"11/08/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_3\n  - animal_weights\n  - eggs\n  - australian_marriage\n  - usa_households\n  - sce_labor\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(readxl)\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1.  read in a data set, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2.  identify what needs to be done to tidy the current data\n3.  anticipate the shape of pivoted data\n4.  pivot the data into tidy format using `pivot_longer`\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n-   animal_weights.csv ‚≠ê\n-   eggs_tidy.csv ‚≠ê‚≠ê or organiceggpoultry.xls ‚≠ê‚≠ê‚≠ê\n-   australian_marriage\\*.xls ‚≠ê‚≠ê‚≠ê\n-   USA Households\\*.xlsx ‚≠ê‚≠ê‚≠ê‚≠ê\n-   sce_labor_chart_data_public.xlsx üåüüåüüåüüåüüåü\n\n\n::: {.cell}\n\n```{.r .cell-code}\nHouseholds <- read_excel(\"_data/USA Households by Total Money Income, Race, and Hispanic Origin of Householder 1967 to 2019.xlsx\",\n                         skip = 5,\n                         col_names = c(\"Year\",\"Household\",\"Total\",str_c(\"income\",1:9,sep = \"_i\"),\"Median_income\",\"MarginOfError\",\"Mean_income\",\"MarginOfError\"))\nHouseholds\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 383 √ó 16\n   Year    House‚Ä¶¬π Total incom‚Ä¶¬≤ incom‚Ä¶¬≥ incom‚Ä¶‚Å¥ incom‚Ä¶‚Åµ incom‚Ä¶‚Å∂ incom‚Ä¶‚Å∑ incom‚Ä¶‚Å∏\n   <chr>   <chr>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>\n 1 ALL RA‚Ä¶ <NA>       NA    NA      NA      NA      NA      NA      NA      NA  \n 2 2019    128451    100     9.1     8       8.3    11.7    16.5    12.3    15.5\n 3 2018    128579    100    10.1     8.8     8.7    12      17      12.5    15  \n 4 2017 2  127669    100    10       9.1     9.2    12      16.4    12.4    14.7\n 5 2017    127586    100    10.1     9.1     9.2    11.9    16.3    12.6    14.8\n 6 2016    126224    100    10.4     9       9.2    12.3    16.7    12.2    15  \n 7 2015    125819    100    10.6    10       9.6    12.1    16.1    12.4    14.9\n 8 2014    124587    100    11.4    10.5     9.6    12.6    16.4    12.1    14  \n 9 2013 3  123931    100    11.4    10.3     9.5    12.5    16.8    12      13.9\n10 2013 4  122952    100    11.3    10.4     9.7    13.1    17      12.5    13.6\n# ‚Ä¶ with 373 more rows, 6 more variables: income_i8 <dbl>, income_i9 <dbl>,\n#   Median_income <dbl>, MarginOfError...14 <dbl>, Mean_income <chr>,\n#   MarginOfError...16 <chr>, and abbreviated variable names ¬π‚ÄãHousehold,\n#   ¬≤‚Äãincome_i1, ¬≥‚Äãincome_i2, ‚Å¥‚Äãincome_i3, ‚Åµ‚Äãincome_i4, ‚Å∂‚Äãincome_i5, ‚Å∑‚Äãincome_i6,\n#   ‚Å∏‚Äãincome_i7\n```\n:::\n:::\n\nRead the data and rename the columns. \n\n### Briefly describe the data\nExisting the number of rows\n\n::: {.cell}\n\n```{.r .cell-code}\nnrow(Households)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 383\n```\n:::\n:::\n\nThere are 383 statistics in different years in total. \n\n### Challenge: Describe the final dimensions\n\n\n::: {.cell}\n\n```{.r .cell-code}\nHouseholds %>% \n  filter(Year%in%c(2007,2017)) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 16 √ó 16\n   Year  Household Total incom‚Ä¶¬π incom‚Ä¶¬≤ incom‚Ä¶¬≥ incom‚Ä¶‚Å¥ incom‚Ä¶‚Åµ incom‚Ä¶‚Å∂ incom‚Ä¶‚Å∑\n   <chr> <chr>     <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>\n 1 2017  127586      100    10.1     9.1     9.2    11.9    16.3    12.6    14.8\n 2 2007  116783      100    10      10       9      12.8    17.3    12.6    15.3\n 3 2017  100065      100     8.6     8.7     8.9    11.7    16.5    12.9    15.7\n 4 2007  95112       100     8.4     9.6     8.9    12.6    17.5    13      16.1\n 5 2017  84681       100     8       8.5     8.5    11.2    16.1    13.1    16.3\n 6 2007  82765       100     7.9     9.2     8.5    12      17.3    13.2    16.9\n 7 2017  17801       100    18.9    12.1    11.8    13.8    15.7    10.6     9.9\n 8 2007  14976       100    19.5    13.1    10.5    14.7    16.6     9.8    10.2\n 9 2017  16997       100    19.1    12.2    11.8    13.9    15.7    10.3     9.8\n10 2007  14551       100    19.6    13.1    10.5    14.7    16.7     9.8    10  \n11 2017  7114        100     8.6     6.3     6       9.3    14.4    12.6    16.3\n12 2007  4715        100     8.6     6.6     6.6     9.7    15.4    12.8    19.1\n13 2017  6735        100     8.7     6.4     5.7     9.1    14.4    12.8    16.3\n14 2007  4494        100     8.6     6.7     6.5     9.5    15.5    12.5    19.5\n15 2017  17318       100    11.6    10.3    11.4    14.3    18.5    12.5    12.2\n16 2007  13339       100    12.5    12.3    11.5    16.6    18.6    11.9    10.5\n# ‚Ä¶ with 6 more variables: income_i8 <dbl>, income_i9 <dbl>,\n#   Median_income <dbl>, MarginOfError...14 <dbl>, Mean_income <chr>,\n#   MarginOfError...16 <chr>, and abbreviated variable names ¬π‚Äãincome_i1,\n#   ¬≤‚Äãincome_i2, ¬≥‚Äãincome_i3, ‚Å¥‚Äãincome_i4, ‚Åµ‚Äãincome_i5, ‚Å∂‚Äãincome_i6, ‚Å∑‚Äãincome_i7\n```\n:::\n:::\n\nUse the filter() to get the information in 2007 and 2017.\n\n## Pivot the Data\n\nNow we will pivot the data, and compare our pivoted data dimensions to the dimensions calculated above as a \"sanity\" check.\n\n### Pivot_Wider\n\n\n::: {.cell}\n\n```{.r .cell-code}\nHouseholds %>% \n  filter(Year%in%2018) %>% \n  select(Household,Year,Median_income) %>% \n  pivot_wider(values_from = Median_income ,names_from = Year)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8 √ó 2\n  Household `2018`\n  <chr>      <dbl>\n1 128579     64324\n2 100528     68156\n3 84727      71922\n4 18095      42447\n5 17167      42110\n6 7416       88388\n7 6981       88774\n8 17758      52382\n```\n:::\n:::\n\nBy using pivot_wider() function, we can get a new table that showing in year 2018, how much each household have in the median range. \n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}