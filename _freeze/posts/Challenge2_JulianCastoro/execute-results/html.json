{
  "hash": "e9fc755d4af12bcb06eb5d4d97bc742a",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2\"\nauthor: \"Julian Castoro\"\ndesription: \"Data wrangling: using group() and summarise()\"\ndate: \"08/16/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - birds\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(dplyr)\nlibrary(readxl)\nlibrary(ggplot2)\n\noptions(scipen=999)\n\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n! Question: \nHow would i find the difference between first and last years Value cols for each\ncategory in each region?\n!\n\n\n\n## Challenge Overview\n\nToday's challenge is to\n\n1)  read in a data set, and describe the data using both words and any supporting information (e.g., tables, etc)\n2)  provide summary statistics for different interesting groups within the data, and interpret those statistics\n\n## Read in the Data\n\nRead in one (or more) of the following data sets, available in the `posts/_data` folder, using the correct R package and command.\n\n- birds.csv ⭐⭐⭐\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbirdsData <- read_csv(\"_data/birds.csv\")\nbirdsData\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 30,977 × 14\n   Domain Cod…¹ Domain Area …² Area  Eleme…³ Element Item …⁴ Item  Year …⁵  Year\n   <chr>        <chr>    <dbl> <chr>   <dbl> <chr>     <dbl> <chr>   <dbl> <dbl>\n 1 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1961  1961\n 2 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1962  1962\n 3 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1963  1963\n 4 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1964  1964\n 5 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1965  1965\n 6 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1966  1966\n 7 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1967  1967\n 8 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1968  1968\n 9 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1969  1969\n10 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1970  1970\n# … with 30,967 more rows, 4 more variables: Unit <chr>, Value <dbl>,\n#   Flag <chr>, `Flag Description` <chr>, and abbreviated variable names\n#   ¹​`Domain Code`, ²​`Area Code`, ³​`Element Code`, ⁴​`Item Code`, ⁵​`Year Code`\n```\n:::\n:::\n\n\n## testing different groupings\n\n\nGrouping by item and tallying we see the below counts of rows of information \non each of the types of birds in this dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nby_item <- birdsData %>% group_by(Item)\nby_item %>% tally()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 × 2\n  Item                       n\n  <chr>                  <int>\n1 Chickens               13074\n2 Ducks                   6909\n3 Geese and guinea fowls  4136\n4 Pigeons, other birds    1165\n5 Turkeys                 5693\n```\n:::\n:::\n\n\nSummarizing by count shows us the total amount of birds in each category.\n(NA's removed)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummarize(by_item, count=sum(Value,na.rm = TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 × 2\n  Item                        count\n  <chr>                       <dbl>\n1 Chickens               2696862583\n2 Ducks                   149781301\n3 Geese and guinea fowls   41136874\n4 Pigeons, other birds      6822856\n5 Turkeys                  81850064\n```\n:::\n:::\n\n\n\nSummarizing the Grouping by area and Item gives us the mean number of each\nitem type from 1961-2018 (Where a value exists)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nby_area <- birdsData %>% group_by(Area,Item)\nby_area\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 30,977 × 14\n# Groups:   Area, Item [601]\n   Domain Cod…¹ Domain Area …² Area  Eleme…³ Element Item …⁴ Item  Year …⁵  Year\n   <chr>        <chr>    <dbl> <chr>   <dbl> <chr>     <dbl> <chr>   <dbl> <dbl>\n 1 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1961  1961\n 2 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1962  1962\n 3 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1963  1963\n 4 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1964  1964\n 5 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1965  1965\n 6 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1966  1966\n 7 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1967  1967\n 8 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1968  1968\n 9 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1969  1969\n10 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1970  1970\n# … with 30,967 more rows, 4 more variables: Unit <chr>, Value <dbl>,\n#   Flag <chr>, `Flag Description` <chr>, and abbreviated variable names\n#   ¹​`Domain Code`, ²​`Area Code`, ³​`Element Code`, ⁴​`Item Code`, ⁵​`Year Code`\n```\n:::\n\n```{.r .cell-code}\nsummarise(by_area, birds = round(mean(Value, na.rm = TRUE)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 601 × 3\n# Groups:   Area [248]\n   Area        Item                    birds\n   <chr>       <chr>                   <dbl>\n 1 Afghanistan Chickens                 8099\n 2 Africa      Chickens               936779\n 3 Africa      Ducks                   13639\n 4 Africa      Geese and guinea fowls  12164\n 5 Africa      Pigeons, other birds    11222\n 6 Africa      Turkeys                  9004\n 7 Albania     Chickens                 4055\n 8 Albania     Ducks                     558\n 9 Albania     Geese and guinea fowls    396\n10 Albania     Turkeys                   750\n# … with 591 more rows\n```\n:::\n:::\n\n\n\n\n## Describe the data\n\nUsing a combination of words and results of R commands, can you provide a high level description of the data? Describe as efficiently as possible where/how the data was (likely) gathered, indicate the cases and variables (both the interpretation and any details you deem useful to the reader to fully understand your chosen data).\n\n\nThis data appears to be about the amounts of different varieties of bird category \nby area/region over time. Based on the variety of different collection methods\nseen below, we can assume this info is a conglomeration from a few sources.\n\n\nFAO stands for the food and agriculture association\n\n\n::: {.cell}\n\n```{.r .cell-code}\nunique(birdsData$`Flag Description`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"FAO estimate\"                                                                \n[2] \"Official data\"                                                               \n[3] \"FAO data based on imputation methodology\"                                    \n[4] \"Data not available\"                                                          \n[5] \"Unofficial figure\"                                                           \n[6] \"Aggregate, may include official, semi-official, estimated or calculated data\"\n```\n:::\n:::\n\n\n\n\nAn interesting area I wanted to filter on was the flag for how the data was\ncollected.\n\nDue to using the \"na.rm = true\" modifier in my earlier code, we never\nincluded any rows where the data was not available however we may want\nto see only official data.\n\n\nBelow we see a snapshot of the most recent and official data\n\n::: {.cell}\n\n```{.r .cell-code}\nby_area_year <- birdsData %>% group_by(Area,Year,Item)\nby_area_year\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 30,977 × 14\n# Groups:   Area, Year, Item [30,977]\n   Domain Cod…¹ Domain Area …² Area  Eleme…³ Element Item …⁴ Item  Year …⁵  Year\n   <chr>        <chr>    <dbl> <chr>   <dbl> <chr>     <dbl> <chr>   <dbl> <dbl>\n 1 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1961  1961\n 2 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1962  1962\n 3 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1963  1963\n 4 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1964  1964\n 5 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1965  1965\n 6 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1966  1966\n 7 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1967  1967\n 8 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1968  1968\n 9 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1969  1969\n10 QA           Live …       2 Afgh…    5112 Stocks     1057 Chic…    1970  1970\n# … with 30,967 more rows, 4 more variables: Unit <chr>, Value <dbl>,\n#   Flag <chr>, `Flag Description` <chr>, and abbreviated variable names\n#   ¹​`Domain Code`, ²​`Area Code`, ³​`Element Code`, ⁴​`Item Code`, ⁵​`Year Code`\n```\n:::\n\n```{.r .cell-code}\nby_area_year %>%\nfilter(`Flag Description` == \"Official data\",Year == 2018) %>%\n  summarise(NumberOfBirds = Value)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 135 × 4\n# Groups:   Area, Year [66]\n   Area                    Year Item     NumberOfBirds\n   <chr>                  <dbl> <chr>            <dbl>\n 1 Albania                 2018 Chickens          7272\n 2 Albania                 2018 Turkeys            403\n 3 Argentina               2018 Chickens        113600\n 4 Armenia                 2018 Chickens          4406\n 5 Azerbaijan              2018 Chickens         30498\n 6 Bangladesh              2018 Chickens        282145\n 7 Bangladesh              2018 Ducks            55853\n 8 Belgium                 2018 Chickens         32327\n 9 Benin                   2018 Chickens         21304\n10 Bosnia and Herzegovina  2018 Chickens         16229\n# … with 125 more rows\n```\n:::\n:::\n\n\nNext I add a calculated field to see how the populations have changed over the years. As a test I will be exploring Belgium.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nby_area_year%>%\n  filter(Area == \"Belgium\")%>%\n  ggplot(aes(Year,Value)) + geom_line(aes(color=Item)) +geom_point()\n```\n\n::: {.cell-output-display}\n![](Challenge2_JulianCastoro_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\nAfter making this chart I wanted to know what the entire pool of sampled areas chicken populations might have looked like.\n\n::: {.cell}\n\n```{.r .cell-code}\nChickens_by_area_year <- birdsData %>% filter(Item == \"Chickens\", Area != \"World\")%>%group_by(Area,Year)\nChickens_by_area_year %>%\n  ggplot(aes(Year,Value)) + geom_line(aes(color=Area)) +geom_point() + theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](Challenge2_JulianCastoro_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\nWe see in this graph that there was a sharp decline in the global population of chickens from 1997-1998. After some research I believe this was due to the avian flu which gained traction\nduring this time period. \n\nhttps://www.nytimes.com/1997/12/29/world/chickens-killed-in-hong-kong-to-combat-flu.html\n\n\n \n\n\n\n\n## Provide Grouped Summary Statistics\n\nConduct some exploratory data analysis, using dplyr commands such as `group_by()`, `select()`, `filter()`, and `summarise()`. Find the central tendency (mean, median, mode) and dispersion (standard deviation, min/max/quantile) for different subgroups within the data set.\n\nAccording to official data the average amount of chickens in 2018 per country was:\n(Note: if 1000 Head means this value is a grouping of a thousand then we would multiply by 1000 as done below)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbirdsData %>%\nfilter(`Flag Description` == \"Official data\",Year == 2018,Area!= \"World\") %>%\n  group_by(Item)%>%\n  summarise(MeanNumBirds = (mean(Value,na.rm= TRUE)*1000),sd=sd(Value,na.rm= TRUE))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 4 × 3\n  Item                   MeanNumBirds      sd\n  <chr>                         <dbl>   <dbl>\n1 Chickens                 134517825. 357894.\n2 Ducks                     10558815.  20605.\n3 Geese and guinea fowls      885158.   1590.\n4 Turkeys                   11933923.  47711.\n```\n:::\n:::\n\n\nAn interesting comment here is how across each region the mean number of ducks and turkeys are relatively the same however the Standard deviation for the number of Turkeys is almost double that of ducks. I would think this is because in more of the developed world Turkeys are farmed over Ducks. With only a portion of the world farming turkeys and ducks naturally existing globally, this difference would make sense.\n\n\n\n\nMinimum chickens, Aruba had no officially documented chickens in 1991 and 1992\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbirdsData %>%\n  filter(Item==\"Chickens\",Value == 0)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 14\n  Domai…¹ Domain Area …² Area  Eleme…³ Element Item …⁴ Item  Year …⁵  Year Unit \n  <chr>   <chr>    <dbl> <chr>   <dbl> <chr>     <dbl> <chr>   <dbl> <dbl> <chr>\n1 QA      Live …      22 Aruba    5112 Stocks     1057 Chic…    1991  1991 1000…\n2 QA      Live …      22 Aruba    5112 Stocks     1057 Chic…    1992  1992 1000…\n# … with 3 more variables: Value <dbl>, Flag <chr>, `Flag Description` <chr>,\n#   and abbreviated variable names ¹​`Domain Code`, ²​`Area Code`,\n#   ³​`Element Code`, ⁴​`Item Code`, ⁵​`Year Code`\n```\n:::\n:::\n\n\n\nThe maximum number of chickens in one area was Asia in 2018 with 13630958 1000 Heads of chickens\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbirdsData %>%\n  filter(Item==\"Chickens\", Area != \"World\")%>%\n  slice_max(order_by = Value)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 14\n  Domai…¹ Domain Area …² Area  Eleme…³ Element Item …⁴ Item  Year …⁵  Year Unit \n  <chr>   <chr>    <dbl> <chr>   <dbl> <chr>     <dbl> <chr>   <dbl> <dbl> <chr>\n1 QA      Live …    5300 Asia     5112 Stocks     1057 Chic…    2018  2018 1000…\n# … with 3 more variables: Value <dbl>, Flag <chr>, `Flag Description` <chr>,\n#   and abbreviated variable names ¹​`Domain Code`, ²​`Area Code`,\n#   ³​`Element Code`, ⁴​`Item Code`, ⁵​`Year Code`\n```\n:::\n:::\n\n\n\n### Explain and Interpret\n\nIncluded throughout.\n",
    "supporting": [
      "Challenge2_JulianCastoro_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}