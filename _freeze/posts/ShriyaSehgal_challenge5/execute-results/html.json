{
  "hash": "7caf0218a9ac0d9f261f0c61c4a26adb",
  "result": {
    "markdown": "---\ntitle: \"Challenge 5\"\nauthor: \"Shriya Sehgal\"\ndescription: \"Introduction to Visualization\"\ndate: \"11/30/2022\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_5\n  - railroads\n  - cereal\n  - air_bnb\n  - pathogen_cost\n  - australian_marriage\n  - public_schools\n  - usa_households\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in a data set, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  create at least two univariate visualizations\n   - try to make them \"publication\" ready\n   - Explain why you choose the specific graph type\n5)  Create at least one bivariate visualization\n   - try to make them \"publication\" ready\n   - Explain why you choose the specific graph type\n\n[R Graph Gallery](https://r-graph-gallery.com/) is a good starting point for thinking about what information is conveyed in standard graph types, and includes example R code.\n\n(be sure to only include the category tags for the data you use!)\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n-   cereal.csv ⭐\n-   Total_cost_for_top_15_pathogens_2018.xlsx ⭐\n-   Australian Marriage ⭐⭐ \n-   AB_NYC_2019.csv ⭐⭐⭐\n-   StateCounty2012.xls ⭐⭐⭐\n-   Public School Characteristics ⭐⭐⭐⭐ \n-   USA Households ⭐⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\naus_data<- read_csv(\"_data/australian_marriage_tidy.csv\")\naus_data\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 16 × 4\n   territory                       resp    count percent\n   <chr>                           <chr>   <dbl>   <dbl>\n 1 New South Wales                 yes   2374362    57.8\n 2 New South Wales                 no    1736838    42.2\n 3 Victoria                        yes   2145629    64.9\n 4 Victoria                        no    1161098    35.1\n 5 Queensland                      yes   1487060    60.7\n 6 Queensland                      no     961015    39.3\n 7 South Australia                 yes    592528    62.5\n 8 South Australia                 no     356247    37.5\n 9 Western Australia               yes    801575    63.7\n10 Western Australia               no     455924    36.3\n11 Tasmania                        yes    191948    63.6\n12 Tasmania                        no     109655    36.4\n13 Northern Territory(b)           yes     48686    60.6\n14 Northern Territory(b)           no      31690    39.4\n15 Australian Capital Territory(c) yes    175459    74  \n16 Australian Capital Territory(c) no      61520    26  \n```\n:::\n:::\n\n\n### Briefly describe the data\nThe Australian marriage dataset is a survey of the public opinion of the people in Australia about the legality of the marriage of the same sex. This hdata has been collected in November 2017 across al 150 Federal Electoral Division in Australia. The public were allowed to answer in either yes, no or not clear.\n\n## Tidy Data (as needed)\n\nIs your data already tidy, or is there work to be done? Be sure to anticipate your end result to provide a sanity check, and document your work here.\n\nThe data seems pretty tide with 16 observations of 4 variables\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(aus_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  territory             resp               count            percent     \n Length:16          Length:16          Min.   :  31690   Min.   :26.00  \n Class :character   Class :character   1st Qu.: 159008   1st Qu.:37.23  \n Mode  :character   Mode  :character   Median : 524226   Median :50.00  \n                                       Mean   : 793202   Mean   :50.00  \n                                       3rd Qu.:1242589   3rd Qu.:62.77  \n                                       Max.   :2374362   Max.   :74.00  \n```\n:::\n:::\n\n\nAre there any variables that require mutation to be usable in your analysis stream? For example, do you need to calculate new values in order to graph them? Can string values be represented numerically? Do you need to turn any variables into factors and reorder for ease of graphics and visualization?\n\nDocument your work here.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Pivoting the responses to be independed variables.\naus_data <- aus_data%>%\n  pivot_wider(names_from = resp, values_from = c(percent,count)) %>% \n  mutate(`Total responses`= (`count_yes` + `count_no`))\naus_data\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8 × 6\n  territory                       percent_yes percent_no count…¹ count…² Total…³\n  <chr>                                 <dbl>      <dbl>   <dbl>   <dbl>   <dbl>\n1 New South Wales                        57.8       42.2 2374362 1736838 4111200\n2 Victoria                               64.9       35.1 2145629 1161098 3306727\n3 Queensland                             60.7       39.3 1487060  961015 2448075\n4 South Australia                        62.5       37.5  592528  356247  948775\n5 Western Australia                      63.7       36.3  801575  455924 1257499\n6 Tasmania                               63.6       36.4  191948  109655  301603\n7 Northern Territory(b)                  60.6       39.4   48686   31690   80376\n8 Australian Capital Territory(c)        74         26    175459   61520  236979\n# … with abbreviated variable names ¹​count_yes, ²​count_no, ³​`Total responses`\n```\n:::\n:::\n\n\n## Univariate Visualizations\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Respondents to postal survey by province\nggplot(aus_data, aes(x =reorder(territory, -`Total responses`), y = `Total responses`)) +\ngeom_bar(stat = \"identity\") +\nlabs(x= \" Austrailian Territory\", y= \"No. of Respondents\" )+\nggtitle(\"Graph 1: Respondents by Territory\")\n```\n\n::: {.cell-output-display}\n![](ShriyaSehgal_challenge5_files/figure-html/Graph 1-1.png){width=672}\n:::\n:::\n\nThe above graph displays # of respondents from each Australian Territory which gives the idea how many reponses we got from each area.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(aus_data, aes(x =reorder(territory, -`percent_no`), y =`count_no`)) +\ngeom_bar(stat = \"identity\") +\nlabs(x= \" Austrailian Territory\", y= \"No. of Respondents\" )+\nggtitle(\"Graph 2: Respondents Not in Favour of Same-Sex Marriage\")\n```\n\n::: {.cell-output-display}\n![](ShriyaSehgal_challenge5_files/figure-html/Graph 2-1.png){width=672}\n:::\n:::\n\nThis graph gives information about the respondants with do not support same-sex marriage. It displays the territories by their disapproval percentage and shows any pattern that exists.\n\n## Bivariate Visualization(s)\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(aus_data, aes(x =`percent_no`, y= `Total responses`, colour=territory )) +\ngeom_point() +\ngeom_smooth(color= 'red',method='lm', formula= y~x)+\nlabs(x= \" Percentage of Disapproval\", y= \"Total Responses\", color= \"Territory\" )+\nggtitle(\"Graph 3: Total Respondents vs Disapproval %\")\n```\n\n::: {.cell-output-display}\n![](ShriyaSehgal_challenge5_files/figure-html/Graph 3-1.png){width=672}\n:::\n:::\n\nThe above graph co-relation between Approval percentage and Number of respondents. As there are only 8 different territories, we has done have enough data to establish a pattern and see if any particular territory favors the legality of the same sex marriage in Australia over the other. \n\n\n**We can conclude that the majority of Australians favor the legality of the marriage in the same sex**\n",
    "supporting": [
      "ShriyaSehgal_challenge5_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}