{
  "hash": "967df36d5c8a377444a10b63e9f7c287",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2\"\nauthor: \"Matthew O'Neill\"\ndesription: \"Data wrangling: using group() and summarise()\"\ndate: \"10/05/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - railroads\n  - faostat\n  - hotel_bookings\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(dplyr)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to\n\n1)  read in a data set, and describe the data using both words and any supporting information (e.g., tables, etc)\n2)  provide summary statistics for different interesting groups within the data, and interpret those statistics\n\n## Read in the Data\n\nRead in one (or more) of the following data sets, available in the `posts/_data` folder, using the correct R package and command.\n\n-   railroad\\*.csv or StateCounty2012.xls ⭐\n-   FAOstat\\*.csv or birds.csv ⭐⭐⭐\n-   hotel_bookings.csv ⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- read_csv(\"../posts/_data/birds.csv\")\n```\n:::\n\n\n\n## Describe the data\n\nBelow is the first few rows of the dataset. It is very similar to the FAO dairy dataset, which I looked through in Challenge 1. At first glance, thess data appear to be a lot simpler than the dairy data, as we may just be dealing with the count of chickens accross fars in different Countries over time. But there may be more bird types that we don't see right away. The data was once again likely gather by the Food and Agriculture Organization in the US. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 14\n  Domai…¹ Domain Area …² Area  Eleme…³ Element Item …⁴ Item  Year …⁵  Year Unit \n  <chr>   <chr>    <dbl> <chr>   <dbl> <chr>     <dbl> <chr>   <dbl> <dbl> <chr>\n1 QA      Live …       2 Afgh…    5112 Stocks     1057 Chic…    1961  1961 1000…\n2 QA      Live …       2 Afgh…    5112 Stocks     1057 Chic…    1962  1962 1000…\n3 QA      Live …       2 Afgh…    5112 Stocks     1057 Chic…    1963  1963 1000…\n4 QA      Live …       2 Afgh…    5112 Stocks     1057 Chic…    1964  1964 1000…\n5 QA      Live …       2 Afgh…    5112 Stocks     1057 Chic…    1965  1965 1000…\n6 QA      Live …       2 Afgh…    5112 Stocks     1057 Chic…    1966  1966 1000…\n# … with 3 more variables: Value <dbl>, Flag <chr>, `Flag Description` <chr>,\n#   and abbreviated variable names ¹​`Domain Code`, ²​`Area Code`,\n#   ³​`Element Code`, ⁴​`Item Code`, ⁵​`Year Code`\n```\n:::\n:::\n\nBelow is a breakdown of item types in our dataset, and it is clear we are workign with more than just Chickens. The data also includes Turkeys, Ducks, Geese, and Pigeons. It's likely that different countries will produce differnt proportions of each.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nitem <- select(data, \"Item\")\ntable(item)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nItem\n              Chickens                  Ducks Geese and guinea fowls \n                 13074                   6909                   4136 \n  Pigeons, other birds                Turkeys \n                  1165                   5693 \n```\n:::\n:::\n\n\n\n## Grouped Summary Statistics\n\nBelow we can see two tables, one showing the mean number of each kind of bird in each area. The second sorts these numbers in order to show that the largest count of birds in any one country is Chickens with 1.5 Million in total.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbird_type <- data %>%\n  group_by(`Area`,`Item`) %>%\n  replace_na(list(`Value` = 0))%>%\n  summarise(mean(`Value`))\n\nbird_type\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 601 × 3\n# Groups:   Area [248]\n   Area        Item                   `mean(Value)`\n   <chr>       <chr>                          <dbl>\n 1 Afghanistan Chickens                       8099.\n 2 Africa      Chickens                     936779.\n 3 Africa      Ducks                         13639.\n 4 Africa      Geese and guinea fowls        12164.\n 5 Africa      Pigeons, other birds          11222.\n 6 Africa      Turkeys                        9004.\n 7 Albania     Chickens                       4055.\n 8 Albania     Ducks                           173.\n 9 Albania     Geese and guinea fowls          123 \n10 Albania     Turkeys                         323.\n# … with 591 more rows\n```\n:::\n\n```{.r .cell-code}\nbird_type %>%\n  arrange(desc(`mean(Value)`))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 601 × 3\n# Groups:   Area [248]\n   Area                     Item     `mean(Value)`\n   <chr>                    <chr>            <dbl>\n 1 World                    Chickens     11624407.\n 2 Asia                     Chickens      5498104.\n 3 Americas                 Chickens      3163543.\n 4 Eastern Asia             Chickens      2843125.\n 5 China, mainland          Chickens      2417047.\n 6 Europe                   Chickens      1945862.\n 7 Northern America         Chickens      1518820.\n 8 United States of America Chickens      1398810.\n 9 South-eastern Asia       Chickens      1261959.\n10 South America            Chickens      1150118.\n# … with 591 more rows\n```\n:::\n:::\n\nSeeing as the United States seems to be one of the largest producers of birds for meat, let's take a closer look at their production.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata %>%\n  filter(`Area`==\"United States of America\")%>%\n  select(`Area`,`Item`,`Year Code`,`Value`)%>%\n  group_by(`Item`)%>%\n  summarize(mean = mean(`Value`),median = median(`Value`), std = sd(`Value`), max = max(`Value`), min = min(`Value`))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 6\n  Item         mean  median     std     max    min\n  <chr>       <dbl>   <dbl>   <dbl>   <dbl>  <dbl>\n1 Chickens 1398810. 1305000 463816. 2015000 751000\n2 Ducks       5683.    6225   1485.    7900   3400\n3 Turkeys   206418.  240219  69420.  302713  91837\n```\n:::\n:::\n\n### Explain and Interpret\n\nIt appears that the US produces mostly Chicken, with a mean and median production over the years of around 1.3 million chickens. They produced far fewer Turkeys over the same time period, with an average of 206K per year, and barely any Ducks in comparison to the previous two subgroups. We also see that the US did not produce any Geese or Pigeons as food.\n\nComparing maximum and minimum values over time, it's interesting to point out that the best year for Turkey production was still less than half that of the worst year for Chicken production. This makes some sense knowing US culture, as Turkey is a much more seasonal meat than Chicken.\n\nFinally it's important to point out that there was quite a bit of variance in Turkey production, with a standard deviation of nearly 70K per year despite it's mean. \n",
    "supporting": [
      "challenge2_MatthewONeill_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}