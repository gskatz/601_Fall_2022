{
  "hash": "bf5732883aea42fcd9f0bfab594192ae",
  "result": {
    "markdown": "---\ntitle: \"Final Project\"\nauthor: \"Lai Wei\"\ndesription: \"Final Project about female life expectancy and possible influence factors \"\ndate: \"12/18/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - Final Project\n  - dataset\n  - ggplot2\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(gapminder)\nlibrary(readxl)\nlibrary(ggplot2)\nknitr::opts_chunk$set(echo = TRUE)\n```\n:::\n\n\n## Introducation\n\nThis project is mean to investigate how life expectancy is different based on gender factor. Life expectancy is a statistical measure of the average time an organism is expected to live, based on the year of its birth, current age, and other demographic factors like sex. It is one of the important reference indexes used to evaluate the quality of life of a country's population and the health level of its citizens. At the same time, it can also reflect many aspects such as the survival pressure and gender difference. \n\nIn this project, I want to focus on female life expectancy in East Asian countries, and compare it with the average life expectancy of those countries in same years. It is higher, or lower? Additionally, what kind of possible factors may impact life expectancy of the female group, which will be expanded in reflection section. \n\nThe purpose of choosing East Asian is because it is the area I am from, I have more interests in this particular place. And I want to build a clearer perceive of female survival condition in these countries, and expect to explore more about female’s survival challenges or hidden danger. \n\n## Data Import\n\nThere are 4 data sets for this project in total. Two for comparing life expectancy in gender bias, and two for exploring possible factors to impact female survival conditions. They are from gapminder organization and United nations data. I am going to introduce them in this section. \n\n-Life Expectancy\n\nThe first dataset I chose is from gapminder package. It covers 142 countries from 1952 to 2007 in every five years. Variables in this dataset includes life expectancy, population and GDP/capita. Based on it, I use filter() function to select Asian countries only, and made a new set for next content.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#First data set: Life expectancy in the world\ndat_asia <- filter(gapminder, continent == \"Asia\" )\ndat_asia\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 396 × 6\n   country     continent  year lifeExp      pop gdpPercap\n   <fct>       <fct>     <int>   <dbl>    <int>     <dbl>\n 1 Afghanistan Asia       1952    28.8  8425333      779.\n 2 Afghanistan Asia       1957    30.3  9240934      821.\n 3 Afghanistan Asia       1962    32.0 10267083      853.\n 4 Afghanistan Asia       1967    34.0 11537966      836.\n 5 Afghanistan Asia       1972    36.1 13079460      740.\n 6 Afghanistan Asia       1977    38.4 14880372      786.\n 7 Afghanistan Asia       1982    39.9 12881816      978.\n 8 Afghanistan Asia       1987    40.8 13867957      852.\n 9 Afghanistan Asia       1992    41.7 16317921      649.\n10 Afghanistan Asia       1997    41.8 22227415      635.\n# … with 386 more rows\n```\n:::\n:::\n\n\n-Life Expectancy: Female\n\nMy second data set is the life expectancy of only females from 1953 to 2022. Then I use filter() function to get the Eastern Asia countries only.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat_fem_1 <- read_csv(\"_data/life_expectancy_female.csv\") %>% \n  filter(country == \"China\"| country ==\"Japan\"| country == \"Taiwan\"| country == \"Mongolia\"| country == \"South Korea\" | country == \"North Korea\" )\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 236 Columns: 70\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (1): country\ndbl (69): 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, 1961, 1962, 1963, ...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\ndat_fem_1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 70\n  country  `1953` `1954` `1955` `1956` `1957` `1958` `1959` `1960` `1961` `1962`\n  <chr>     <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>\n1 China      48.5   49.1   49.7   50.2   50.8   41.4   34.6   42.1   53     53.6\n2 Japan      66.6   67.8   67.7   67.6   69.3   69.8   70.1   70.8   71.1   72.3\n3 South K…   49     51.2   52.9   54.2   55.2   56.1   56.8   57.4   58     58.8\n4 Mongolia   42.9   43.3   43.8   42.7   45.3   46.3   47.2   48.2   49.2   50.1\n5 North K…   50.6   51.8   52.9   53.8   54.5   55.1   55.7   56.2   56.8   57.4\n6 Taiwan     60.9   61.7   62.4   62.9   63.6   64.3   65.1   65.5   66.1   66.8\n# … with 59 more variables: `1963` <dbl>, `1964` <dbl>, `1965` <dbl>,\n#   `1966` <dbl>, `1967` <dbl>, `1968` <dbl>, `1969` <dbl>, `1970` <dbl>,\n#   `1971` <dbl>, `1972` <dbl>, `1973` <dbl>, `1974` <dbl>, `1975` <dbl>,\n#   `1976` <dbl>, `1977` <dbl>, `1978` <dbl>, `1979` <dbl>, `1980` <dbl>,\n#   `1981` <dbl>, `1982` <dbl>, `1983` <dbl>, `1984` <dbl>, `1985` <dbl>,\n#   `1986` <dbl>, `1987` <dbl>, `1988` <dbl>, `1989` <dbl>, `1990` <dbl>,\n#   `1991` <dbl>, `1992` <dbl>, `1993` <dbl>, `1994` <dbl>, `1995` <dbl>, …\n```\n:::\n:::\n\n\nHowever, its structure is a bit different from the first one. For the better comparison later, I need to tidy data in the first place.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat_fem_2 <- dat_fem_1 %>%  \n  pivot_longer(!country, names_to = \"year\", values_to = \"fem_lif\") \n  \ndat_fem_2 <- dat_fem_2 %>% \n  mutate(country = str_replace(country, \"South Korea\",  \"Korea, Rep.\")) %>% \n  mutate(country = str_replace(country, \"North Korea\",  \"Korea, Dem. Rep.\"))\n\ndat_fem_2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 414 × 3\n   country year  fem_lif\n   <chr>   <chr>   <dbl>\n 1 China   1953     48.5\n 2 China   1954     49.1\n 3 China   1955     49.7\n 4 China   1956     50.2\n 5 China   1957     50.8\n 6 China   1958     41.4\n 7 China   1959     34.6\n 8 China   1960     42.1\n 9 China   1961     53  \n10 China   1962     53.6\n# … with 404 more rows\n```\n:::\n:::\n\n\nNow, the second data set uses the similar format with dat_asia with only country, year and life expectancy variables.\n\nThe following two data are for reflection section.\n\n-Average Fertility\n\nMy third data set is from UN World Population Prospects, Total fertility rate(TFR) form, which informally refers to the average number of children per woman. The official interpretation is as follows \"The average number of live births a hypothetical cohort of women would have at the end of their reproductive period if they were subject during their whole lives to the fertility rates of a given period and if they were not subject to mortality. It is expressed as live births per woman.'\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- read_excel(\"_data/WPP2019_FERT_F04_TOTAL_FERTILITY.xlsx\",\n                   skip = 16, sheet = \"ESTIMATES\", na = \"...\")\nglimpse(dat)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 255\nColumns: 21\n$ Index                                  <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, …\n$ Variant                                <chr> \"Estimates\", \"Estimates\", \"Esti…\n$ `Region, subregion, country or area *` <chr> \"WORLD\", \"UN development groups…\n$ Notes                                  <chr> NA, \"a\", \"b\", \"c\", \"d\", \"e\", NA…\n$ `Country code`                         <dbl> 900, 1803, 901, 902, 941, 934, …\n$ Type                                   <chr> \"World\", \"Label/Separator\", \"De…\n$ `Parent code`                          <dbl> 0, 900, 1803, 1803, 902, 902, 1…\n$ `1950-1955`                            <dbl> 4.967376, NA, 2.820130, 6.07912…\n$ `1955-1960`                            <dbl> 4.897248, NA, 2.793601, 5.93907…\n$ `1960-1965`                            <dbl> 5.018108, NA, 2.659625, 6.12700…\n$ `1965-1970`                            <dbl> 4.926342, NA, 2.384311, 6.03837…\n$ `1970-1975`                            <dbl> 4.471131, NA, 2.155941, 5.40596…\n$ `1975-1980`                            <dbl> 3.860745, NA, 1.919390, 4.57708…\n$ `1980-1985`                            <dbl> 3.588277, NA, 1.843846, 4.16199…\n$ `1985-1990`                            <dbl> 3.438576, NA, 1.809229, 3.90486…\n$ `1990-1995`                            <dbl> 3.005020, NA, 1.669345, 3.33904…\n$ `1995-2000`                            <dbl> 2.776534, NA, 1.565000, 3.04403…\n$ `2000-2005`                            <dbl> 2.651327, NA, 1.576829, 2.86600…\n$ `2005-2010`                            <dbl> 2.584242, NA, 1.675155, 2.74898…\n$ `2010-2015`                            <dbl> 2.517075, NA, 1.667226, 2.65610…\n$ `2015-2020`                            <dbl> 2.468109, NA, 1.643329, 2.59261…\n```\n:::\n:::\n\nIn this data set, the rows refer to countries as well as other geographical regions, and I am going to focus on countries only, which are defined as rows with the column Type being Country/Area. In addition, Parent code indicates the geographical region that the country belongs too.\n\n-Maternal Mortality Ratio (MMR)\n\nMMR is defined as the number of maternal deaths/100,000 lives births. The UN maternal mortality estimation group produces estimates of the MMR for all countries in the world. In this data set, mmr_2015, which is a data set that contains a subset of the (real) data that were used to generate the United Nations Maternal mortality estimates, as published in the year 2015, which is also imported for reflection section.\n\n::: {.cell}\n\n```{.r .cell-code}\ndat_mmr <- read_csv(\"_data/mmr_2015.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 175 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (2): iso, country\ndbl (2): year, mmr\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\ndat_mmr\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 175 × 4\n   iso   country      year   mmr\n   <chr> <chr>       <dbl> <dbl>\n 1 AFG   Afghanistan  2000 1900 \n 2 DZA   Algeria      1999  117.\n 3 BGD   Bangladesh   2009  194 \n 4 BGD   Bangladesh   2000  322.\n 5 BWA   Botswana     2006  140.\n 6 BWA   Botswana     2012  148.\n 7 BWA   Botswana     2005  158.\n 8 BWA   Botswana     2010  163 \n 9 BWA   Botswana     2013  183.\n10 BWA   Botswana     2007  183.\n# … with 165 more rows\n```\n:::\n:::\n\n\n## Data Description\n\nBy understanding the distribution of our discrete variable in continent of gapminder package, by using geom_bar(), I can get a bar plot counting the observation in each continent in different colors. And by using ...count.../12, the plot can represent the number of countries in each continent.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gapminder, aes(x = continent, fill = continent)) + \n    geom_bar(aes(y = ..count../12)) + labs(y = \"Number of countries\") +\n    guides(fill = \"none\") \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The dot-dot notation (`..count..`) was deprecated in ggplot2 3.4.0.\nℹ Please use `after_stat(count)` instead.\n```\n:::\n\n::: {.cell-output-display}\n![](Final_Project_Lai_Wei_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\nAs displaying, Africa has the largest number of countries in this data, and Asia has more than 30 countries data.\n\nFor looking for the chosen countries in the second data, run the code below. \n\n::: {.cell}\n\n```{.r .cell-code}\nselect(dat_fem_1, \"country\") \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 1\n  country    \n  <chr>      \n1 China      \n2 Japan      \n3 South Korea\n4 Mongolia   \n5 North Korea\n6 Taiwan     \n```\n:::\n:::\n\nThere are 6 countries in total. For more clear and scientific, South Korea will be set as Korea.Rep., and North Korea as Korea,Dem.Rep. for my report. \n\nFor comparing with life expectancy of nations and females only, I made a final vision of data by merge().\n\n::: {.cell}\n\n```{.r .cell-code}\ndat_final <- merge(dat_asia, dat_fem_2, by = c(\"country\",\"year\"))\n\ndat_final\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n            country year continent  lifeExp        pop  gdpPercap fem_lif\n1             China 1957      Asia 50.54896  637408000   575.9870    50.8\n2             China 1962      Asia 44.50136  665770000   487.6740    53.6\n3             China 1967      Asia 58.38112  754550000   612.7057    57.1\n4             China 1972      Asia 63.11888  862030000   676.9001    61.4\n5             China 1977      Asia 63.96736  943455000   741.2375    65.5\n6             China 1982      Asia 65.52500 1000281000   962.4214    68.3\n7             China 1987      Asia 67.27400 1084035000  1378.9040    70.1\n8             China 1992      Asia 68.69000 1164970000  1655.7842    71.5\n9             China 1997      Asia 70.42600 1230075000  2289.2341    73.6\n10            China 2002      Asia 72.02800 1280400000  3119.2809    76.0\n11            China 2007      Asia 72.96100 1318683096  4959.1149    77.6\n12            Japan 1957      Asia 65.50000   91563009  4317.6944    69.3\n13            Japan 1962      Asia 68.73000   95831757  6576.6495    72.3\n14            Japan 1967      Asia 71.43000  100825279  9847.7886    74.3\n15            Japan 1972      Asia 73.42000  107188273 14778.7864    76.0\n16            Japan 1977      Asia 75.38000  113872473 16610.3770    78.2\n17            Japan 1982      Asia 77.11000  118454974 19384.1057    79.8\n18            Japan 1987      Asia 78.67000  122091325 22375.9419    81.3\n19            Japan 1992      Asia 79.36000  124329269 26824.8951    82.4\n20            Japan 1997      Asia 80.69000  125956499 28816.5850    83.9\n21            Japan 2002      Asia 82.00000  127065841 28604.5919    85.2\n22            Japan 2007      Asia 82.60300  127467972 31656.0681    86.0\n23 Korea, Dem. Rep. 1957      Asia 54.08100    9411381  1571.1347    54.5\n24 Korea, Dem. Rep. 1962      Asia 56.65600   10917494  1621.6936    57.4\n25 Korea, Dem. Rep. 1967      Asia 59.94200   12617009  2143.5406    61.2\n26 Korea, Dem. Rep. 1972      Asia 63.98300   14781241  3701.6215    64.6\n27 Korea, Dem. Rep. 1977      Asia 67.15900   16325320  4106.3012    67.7\n28 Korea, Dem. Rep. 1982      Asia 69.10000   17647518  4106.5253    70.6\n29 Korea, Dem. Rep. 1987      Asia 70.64700   19067554  4106.4923    73.2\n30 Korea, Dem. Rep. 1992      Asia 69.97800   20711375  3726.0635    76.3\n31 Korea, Dem. Rep. 1997      Asia 67.72700   21585105  1690.7568    64.1\n32 Korea, Dem. Rep. 2002      Asia 66.66200   22215365  1646.7582    73.1\n33 Korea, Dem. Rep. 2007      Asia 67.29700   23301725  1593.0655    72.3\n34      Korea, Rep. 1957      Asia 52.68100   22611552  1487.5935    55.2\n35      Korea, Rep. 1962      Asia 55.29200   26420307  1536.3444    58.8\n36      Korea, Rep. 1967      Asia 57.71600   30131000  2029.2281    65.6\n37      Korea, Rep. 1972      Asia 62.61200   33505000  3030.8767    68.2\n38      Korea, Rep. 1977      Asia 64.76600   36436000  4657.2210    70.1\n39      Korea, Rep. 1982      Asia 67.12300   39326000  5622.9425    72.0\n40      Korea, Rep. 1987      Asia 69.81000   41622000  8533.0888    75.1\n41      Korea, Rep. 1992      Asia 72.24400   43805450 12104.2787    77.6\n42      Korea, Rep. 1997      Asia 74.64700   46173816 15993.5280    79.4\n43      Korea, Rep. 2002      Asia 77.04500   47969150 19233.9882    81.1\n44      Korea, Rep. 2007      Asia 78.62300   49044790 23348.1397    83.5\n45         Mongolia 1957      Asia 45.24800     882134   912.6626    45.3\n46         Mongolia 1962      Asia 48.25100    1010280  1056.3540    50.1\n47         Mongolia 1967      Asia 51.25300    1149500  1226.0411    53.3\n48         Mongolia 1972      Asia 53.75400    1320500  1421.7420    56.6\n49         Mongolia 1977      Asia 55.49100    1528000  1647.5117    57.8\n50         Mongolia 1982      Asia 57.48900    1756032  2000.6031    58.7\n51         Mongolia 1987      Asia 60.22200    2015133  2338.0083    60.5\n52         Mongolia 1992      Asia 61.27100    2312802  1785.4020    62.8\n53         Mongolia 1997      Asia 63.62500    2494803  1902.2521    64.5\n54         Mongolia 2002      Asia 65.03300    2674234  2140.7393    69.3\n55         Mongolia 2007      Asia 66.80300    2874127  3095.7723    71.1\n56           Taiwan 1957      Asia 62.40000   10164215  1507.8613    63.6\n57           Taiwan 1962      Asia 65.20000   11918938  1822.8790    66.8\n58           Taiwan 1967      Asia 67.50000   13648692  2643.8587    69.5\n59           Taiwan 1972      Asia 69.39000   15226039  4062.5239    72.5\n60           Taiwan 1977      Asia 70.59000   16785196  5596.5198    74.6\n61           Taiwan 1982      Asia 72.16000   18501390  7426.3548    75.2\n62           Taiwan 1987      Asia 73.40000   19757799 11054.5618    76.3\n63           Taiwan 1992      Asia 74.26000   20686918 15215.6579    77.8\n64           Taiwan 1997      Asia 75.25000   21628605 20206.8210    78.8\n65           Taiwan 2002      Asia 76.99000   22454239 23235.4233    80.3\n66           Taiwan 2007      Asia 78.40000   23174294 28718.2768    81.8\n```\n:::\n:::\n\nSo the information of dat_aisa and dat_fem_2 can be put together, and be a new data.\n\nThen I find some basic description of the dataset: dimensions and column names of my final vision data. \n\n::: {.cell}\n\n```{.r .cell-code}\ndim(dat_final)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 66  7\n```\n:::\n\n```{.r .cell-code}\ncolnames(dat_final)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"country\"   \"year\"      \"continent\" \"lifeExp\"   \"pop\"       \"gdpPercap\"\n[7] \"fem_lif\"  \n```\n:::\n:::\n\nIt provides 7 column in total, and shows values for countries , continent, year, life expectancy for the whole nations, population, GDP/capita, and life expectancy for only female. \n\n## Visualization\n\nBefore plotting any relationship between gender with life expectancy, I created a simple base R plot of life expectancy against log(GDP) in Asia countries:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nasia_plot <- plot(lifeExp ~ log10(gdpPercap), data = dat_asia)\n```\n\n::: {.cell-output-display}\n![](Final_Project_Lai_Wei_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\nFrom image above, we can see the tendency of Asian life expectancy roughly increases as GDP/capita increases from 1952 to 2007.\n\nFor answering my question, I will plot life expectancy over time and connect country data points such that the plot shows one line for each country. The result plot is displayed below.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat_asia %>% \n  filter(country == \"China\"| country ==\"Japan\"| country == \"Taiwan\"| country == \"Mongolia\"| country == \"Korea, Rep.\"| country == \"Korea, Dem. Rep.\") %>% \n  ggplot(aes(x=year,y=lifeExp,color=country, shape = country)) + \n  geom_point() + geom_line() \n```\n\n::: {.cell-output-display}\n![](Final_Project_Lai_Wei_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\nFrom the result, we can see Eastern Asian life expectancy keeps going up from 1952 to 2007 as a whole. Among this countries, the highest life expectancy belongs to Japan, and the lowest is Mongolia. \n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat_gra <- dat_final %>%\n  select(country, year, lifeExp,fem_lif) %>% \n  pivot_longer(-c(country, year), names_to = \"type\", values_to = \"life expectancy\")\n\n  ggplot(data = dat_gra, aes(x = country, y = dat_gra$`life expectancy`, fill = type)) + \n    geom_boxplot() + ylab(\"life expectancy\") + \n    scale_x_discrete(guide = guide_axis(n.dodge=3))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Use of `` dat_gra$`life expectancy` `` is discouraged.\nℹ Use `life expectancy` instead.\n```\n:::\n\n::: {.cell-output-display}\n![](Final_Project_Lai_Wei_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\nFrom above comparison, the result shows that as in general, female has a longer life expectancy than the whole country. The average distinct is usually not exceed for 5 years.Since the life expectancy of nations composed of both male and female, the difference between male and female will be larger after excluding female. \n\n## Reflection\n\nIn Reflection section, I want to make a step forward in my topic in the first place, which is about fertility and mortality ratio. Can they be possible factors to impact female life expectancy? I need to start with fertility ratio in the first place.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat_coun <- filter(dat, `Parent code` == 906) %>% \n  pivot_longer(\"1950-1955\":\"2015-2020\",  \n  names_to = \"period\", values_to = \"tfr\")\n\ncolnames(dat_coun)[3] = \"Country\"\n\ndat_coun <- dat_coun %>% \n  group_by(Country)%>%\n  mutate(Category = ifelse(tfr[period ==\"2015-2020\"]>5, \"high fertility\", \"low fertility\") ) %>%\n  mutate(year = str_sub(period, start = 1, end = 4)) %>%\n  mutate(year = as.numeric(year) + 2.5)\n\nggplot(dat = dat_coun, aes(x = year,y = tfr))+\n  geom_point(aes(x = year,y = tfr,shape = Category, color = Country))+\n  geom_line(aes(group = Country, color = Country)) +\n  xlab(\"year\") + ylab(\"tfr\") +\n  guides(shape = guide_legend(order = 1))\n```\n\n::: {.cell-output-display}\n![](Final_Project_Lai_Wei_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\nIt shows that Mongolia holds the highest fertility rate in Eastern Asia, and other countries are all less than 2 tfr at the end of the point. In addition, the whole Eastern Asia are facing the problem of low fertility after at least 2015, which is lower than 5 tfr. The concept of fewer children and aging has also been put forward by many countries such as Japan, which is a great challenge for East Asian countries in the future. \n\nThen I use mmr data to compare and see whether fertility ratio leads a relative higher maternal mortality ratio. \n\n::: {.cell}\n\n```{.r .cell-code}\ndat_mmr %>%\n  filter(country %in% c(\"China\", \"Mongolia\")) %>%\n  filter(year >= 2000) %>%\n  ggplot() + geom_point(mapping = aes(x = year, y = mmr, col = country))\n```\n\n::: {.cell-output-display}\n![](Final_Project_Lai_Wei_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\nSo, as we can see, Mongolia has a higher maternal mortality ratio, at the same time the fertility ratio is the highest in Eastern Asia. \n\nFinally, I want to describe the process of making this whole project. Because recently I am studying public health and biostatistics fields, I chose the life expectancy as my topic. In DACSS 601, I learnt how to deal with raw data and clean it until in tidy. And using data visualization can help people to explain the results. The most challenging part is merge two data sets into one. Even though they are from the same organization, many variables such as year and covered countries are different. Luckily, I eventually found the correct functions which can allow for maximum consolidation. This is the first time for me to complete a research report independently. For me it is a improvement comparing with the summer session, but there are still many details that could be improved next time. \n\n## Conclusion\n\nFrom boxpolt, in general female life expectancy is longer than the average life expectancy of the same nations. So, there is a bigger difference between female and male on life expectancy in the same countries. In addition, life expectancy have a positive correlation with GDP, which makes sense because a higher GDP means this country has a higher possibility to hold better living environments and advanced medical facilities. \n\nHowever, in the line graph, there is a obvious downward line of China happened in 1960s. From what I can find, it is very likely due to the Great Chinese Famine from 1959 to 1961.It is widely regarded as the deadliest famine in human history. Although there is a huge amount of political uncertainty in all estimates of the death toll during the difficult three-year period, based on the official statistics, on in 1960, there were 10 million people less than the last year. \n\nKorea,Dem.Rep.(North Korea) also displays the decrease from 1980s to 1990s. For figuring it out, I think a fact that should not be overlooked is the Cold War in 20 century. In history, it usually refers to the geopolitical tension between the United States and the Soviet Union and their respective allies. And As an ally, North Korea had been receiving economic aid from the Soviet Union until Soviet dissolution in 1991. So without outside help, there is a significant decline in life expectancy. \n\nIt can be seen that life expectancy is influenced by many factors, not only the economic development and medical level of the country, but even the changes in the international political situation, which will have a profound impact on the people of a country. \n\nFrom the reflection section, a reasonable conclusion can be made is that the country with higher fertility ratio can also have higher maternal mortality ratio, which can decrease the female life expectancy of this country.\n\n## Bibliography\n\nlife_expectancy_female, gapminder, download the data, https://www.gapminder.org/data/\n\nWPP2019_FERT_F04_TOTAL_FERTILITY, United Nations, UNdata, https://data.un.org/\n\nmmr_2015, United Nations, UNdata, https://data.un.org/\n",
    "supporting": [
      "Final_Project_Lai_Wei_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}