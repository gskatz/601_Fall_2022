{
  "hash": "1e0c91bb2702275b34ca7d4d653e6fd0",
  "result": {
    "markdown": "---\ntitle: \"Challenge 8\"\nauthor: \"Neeharika Kaaranam\"\ndescription: \"Joining Data\"\ndate: \"12/05/2022\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_8\n  - railroads\n  - snl\n  - faostat\n  - debt\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in multiple data sets, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  join two or more data sets and analyze some aspect of the joined data\n\n(be sure to only include the category tags for the data you use!)\n\n## Read in data\n\nRead in one (or more) of the following datasets, using the correct R package and command.\n\n  - military marriages ⭐⭐\n  - faostat ⭐⭐\n  - railroads  ⭐⭐⭐\n  - fed_rate ⭐⭐⭐\n  - debt ⭐⭐⭐\n  - us_hh ⭐⭐⭐⭐\n  - snl ⭐⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_dataset <- read_csv(\"_data/FAOSTAT_country_groups.csv\")\ncattle_dataset <- read_csv(\"_data/FAOSTAT_cattle_dairy.csv\")\n```\n:::\n\n\n### Briefly describe the data\n\nI have chosen 2 different datasets to perform the join operation. I have chosen the FAOSTAT country groups and FAOSTAT cattle diary datasets. \n\nThe first dataset is basically a codebook that helps in grouping the different countries so that we dont really have to look at the data at a very granular contry level. My main aim is to join the country group variable in order to perform the analysis of the different groups which are within the cattle and dairy dataset.\n\nThe second dataset is mainly about the publicly available food and the agriculture data over the 245 countries in the world. It also contains very particular information about the cow milk and also has variables like the units sold and the value of the product. The information from these datasets are from 1960s to 2018. There are 36000+ rows in the dataset.\n\n## Tidy Data (as needed)\n\nI have observed that all of the rows have an \"area code\" which is assigned to the country and I will be using this variable to join the contry group variable. But it is called the \"country code\" in the country groups file, therefore I am renaming the \"area code\" variable to be \"country code\".\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncattle_rename <- rename (cattle_dataset, \"Country Code\"= \"Area Code\" )\n\ncattle_rename\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 36,449 × 14\n   Domain Cod…¹ Domain Count…² Area  Eleme…³ Element Item …⁴ Item  Year …⁵  Year\n   <chr>        <chr>    <dbl> <chr>   <dbl> <chr>     <dbl> <chr>   <dbl> <dbl>\n 1 QL           Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1961  1961\n 2 QL           Lives…       2 Afgh…    5420 Yield       882 Milk…    1961  1961\n 3 QL           Lives…       2 Afgh…    5510 Produc…     882 Milk…    1961  1961\n 4 QL           Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1962  1962\n 5 QL           Lives…       2 Afgh…    5420 Yield       882 Milk…    1962  1962\n 6 QL           Lives…       2 Afgh…    5510 Produc…     882 Milk…    1962  1962\n 7 QL           Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1963  1963\n 8 QL           Lives…       2 Afgh…    5420 Yield       882 Milk…    1963  1963\n 9 QL           Lives…       2 Afgh…    5510 Produc…     882 Milk…    1963  1963\n10 QL           Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1964  1964\n# … with 36,439 more rows, 4 more variables: Unit <chr>, Value <dbl>,\n#   Flag <chr>, `Flag Description` <chr>, and abbreviated variable names\n#   ¹​`Domain Code`, ²​`Country Code`, ³​`Element Code`, ⁴​`Item Code`,\n#   ⁵​`Year Code`\n```\n:::\n:::\n\n\n## Join Data\n\nI am now going to join both of these files using the country code variable.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfinal <- left_join(cattle_rename, country_dataset, by = \"Country Code\" )\nfinal\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 257,061 × 20\n   Domain Cod…¹ Domain Count…² Area  Eleme…³ Element Item …⁴ Item  Year …⁵  Year\n   <chr>        <chr>    <dbl> <chr>   <dbl> <chr>     <dbl> <chr>   <dbl> <dbl>\n 1 QL           Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1961  1961\n 2 QL           Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1961  1961\n 3 QL           Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1961  1961\n 4 QL           Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1961  1961\n 5 QL           Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1961  1961\n 6 QL           Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1961  1961\n 7 QL           Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1961  1961\n 8 QL           Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1961  1961\n 9 QL           Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1961  1961\n10 QL           Lives…       2 Afgh…    5318 Milk A…     882 Milk…    1961  1961\n# … with 257,051 more rows, 10 more variables: Unit <chr>, Value <dbl>,\n#   Flag <chr>, `Flag Description` <chr>, `Country Group Code` <dbl>,\n#   `Country Group` <chr>, Country <chr>, `M49 Code` <chr>, `ISO2 Code` <chr>,\n#   `ISO3 Code` <chr>, and abbreviated variable names ¹​`Domain Code`,\n#   ²​`Country Code`, ³​`Element Code`, ⁴​`Item Code`, ⁵​`Year Code`\n```\n:::\n:::\n\n\nNow the datasets have been joined and now I want to plot a graph for certain country groups as below.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfinal %>%\n  filter(Year >= 2002) %>%\n  filter(`Flag Description` == \"Official data\") %>%\n  filter(`Country Group`==\"Central Asia\") %>%\n  filter(`Unit` == \"tonnes\") %>%\n  ggplot(aes(x=`Area`, y=`Value`)) + \n  geom_point(\n    color=\"blue\",\n    fill=\"#69b3a2\",\n    size=.5,\n    alpha=.5\n  )+\n  labs(title = \"Official Tonnes of Milk that was Produced in Central Asia from 2002-2018\", x=\"Country\", y=\"Cost of Milk\") +\n  scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) \n```\n\n::: {.cell-output-display}\n![](NeeharikaKaranam_challenge8_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "NeeharikaKaranam_challenge8_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}