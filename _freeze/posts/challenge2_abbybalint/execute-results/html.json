{
  "hash": "3fa88b3c07d1df8b62ac3beba9643785",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2 - Abby Balint\"\nauthor: \"Abby Balint \"\ndesription: \"Data wrangling: using group() and summarise()\"\ndate: \"09/21/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - hotel_bookings\n  - abby_balint\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Read in the Data\n\n-   hotel_bookings.csv ⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\nread_csv(\"_data/hotel_bookings.csv\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 119,390 × 32\n   hotel  is_ca…¹ lead_…² arriv…³ arriv…⁴ arriv…⁵ arriv…⁶ stays…⁷ stays…⁸ adults\n   <chr>    <dbl>   <dbl>   <dbl> <chr>     <dbl>   <dbl>   <dbl>   <dbl>  <dbl>\n 1 Resor…       0     342    2015 July         27       1       0       0      2\n 2 Resor…       0     737    2015 July         27       1       0       0      2\n 3 Resor…       0       7    2015 July         27       1       0       1      1\n 4 Resor…       0      13    2015 July         27       1       0       1      1\n 5 Resor…       0      14    2015 July         27       1       0       2      2\n 6 Resor…       0      14    2015 July         27       1       0       2      2\n 7 Resor…       0       0    2015 July         27       1       0       2      2\n 8 Resor…       0       9    2015 July         27       1       0       2      2\n 9 Resor…       1      85    2015 July         27       1       0       3      2\n10 Resor…       1      75    2015 July         27       1       0       3      2\n# … with 119,380 more rows, 22 more variables: children <dbl>, babies <dbl>,\n#   meal <chr>, country <chr>, market_segment <chr>,\n#   distribution_channel <chr>, is_repeated_guest <dbl>,\n#   previous_cancellations <dbl>, previous_bookings_not_canceled <dbl>,\n#   reserved_room_type <chr>, assigned_room_type <chr>, booking_changes <dbl>,\n#   deposit_type <chr>, agent <chr>, company <chr>, days_in_waiting_list <dbl>,\n#   customer_type <chr>, adr <dbl>, required_car_parking_spaces <dbl>, …\n```\n:::\n\n```{.r .cell-code}\nhoteldata <- read_csv(\"_data/hotel_bookings.csv\")\n```\n:::\n\n\n\n## Describe the data\n\nThis data set contains information about hotel stays in various countries from 2015-2017. There is a lot of different types of data contained here, 32 variables and 119390 rows of data. This is likely from an international hotel chain with many locations and hotel types based on the variables that this dataset contains. Because of the large number of variables, I think it would be best to look at the variables in sets as they relate to each other. For example, we could look at data about time of year, length of stay, and lead time for booking, which would tell us about behaviors around advanced booking practices. Or, we could look at the room types, number of adults/children, meals, and parking spaces used to build a profile about the demographics of customers and their habits. There is even data around marketing strategies that could help show how marketing impacts the customer experience. Really, there is an endless amount of combinations of variables that could be used here to tell various different stories.\n\nFor this challenge, I am choosing to focus on the demographics of guests and the types of stays they are most interested in given things like family structure, location, and customer type (repeat vs not).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary (hoteldata)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    hotel            is_canceled       lead_time   arrival_date_year\n Length:119390      Min.   :0.0000   Min.   :  0   Min.   :2015     \n Class :character   1st Qu.:0.0000   1st Qu.: 18   1st Qu.:2016     \n Mode  :character   Median :0.0000   Median : 69   Median :2016     \n                    Mean   :0.3704   Mean   :104   Mean   :2016     \n                    3rd Qu.:1.0000   3rd Qu.:160   3rd Qu.:2017     \n                    Max.   :1.0000   Max.   :737   Max.   :2017     \n                                                                    \n arrival_date_month arrival_date_week_number arrival_date_day_of_month\n Length:119390      Min.   : 1.00            Min.   : 1.0             \n Class :character   1st Qu.:16.00            1st Qu.: 8.0             \n Mode  :character   Median :28.00            Median :16.0             \n                    Mean   :27.17            Mean   :15.8             \n                    3rd Qu.:38.00            3rd Qu.:23.0             \n                    Max.   :53.00            Max.   :31.0             \n                                                                      \n stays_in_weekend_nights stays_in_week_nights     adults      \n Min.   : 0.0000         Min.   : 0.0         Min.   : 0.000  \n 1st Qu.: 0.0000         1st Qu.: 1.0         1st Qu.: 2.000  \n Median : 1.0000         Median : 2.0         Median : 2.000  \n Mean   : 0.9276         Mean   : 2.5         Mean   : 1.856  \n 3rd Qu.: 2.0000         3rd Qu.: 3.0         3rd Qu.: 2.000  \n Max.   :19.0000         Max.   :50.0         Max.   :55.000  \n                                                              \n    children           babies              meal             country         \n Min.   : 0.0000   Min.   : 0.000000   Length:119390      Length:119390     \n 1st Qu.: 0.0000   1st Qu.: 0.000000   Class :character   Class :character  \n Median : 0.0000   Median : 0.000000   Mode  :character   Mode  :character  \n Mean   : 0.1039   Mean   : 0.007949                                        \n 3rd Qu.: 0.0000   3rd Qu.: 0.000000                                        \n Max.   :10.0000   Max.   :10.000000                                        \n NA's   :4                                                                  \n market_segment     distribution_channel is_repeated_guest\n Length:119390      Length:119390        Min.   :0.00000  \n Class :character   Class :character     1st Qu.:0.00000  \n Mode  :character   Mode  :character     Median :0.00000  \n                                         Mean   :0.03191  \n                                         3rd Qu.:0.00000  \n                                         Max.   :1.00000  \n                                                          \n previous_cancellations previous_bookings_not_canceled reserved_room_type\n Min.   : 0.00000       Min.   : 0.0000                Length:119390     \n 1st Qu.: 0.00000       1st Qu.: 0.0000                Class :character  \n Median : 0.00000       Median : 0.0000                Mode  :character  \n Mean   : 0.08712       Mean   : 0.1371                                  \n 3rd Qu.: 0.00000       3rd Qu.: 0.0000                                  \n Max.   :26.00000       Max.   :72.0000                                  \n                                                                         \n assigned_room_type booking_changes   deposit_type          agent          \n Length:119390      Min.   : 0.0000   Length:119390      Length:119390     \n Class :character   1st Qu.: 0.0000   Class :character   Class :character  \n Mode  :character   Median : 0.0000   Mode  :character   Mode  :character  \n                    Mean   : 0.2211                                        \n                    3rd Qu.: 0.0000                                        \n                    Max.   :21.0000                                        \n                                                                           \n   company          days_in_waiting_list customer_type           adr         \n Length:119390      Min.   :  0.000      Length:119390      Min.   :  -6.38  \n Class :character   1st Qu.:  0.000      Class :character   1st Qu.:  69.29  \n Mode  :character   Median :  0.000      Mode  :character   Median :  94.58  \n                    Mean   :  2.321                         Mean   : 101.83  \n                    3rd Qu.:  0.000                         3rd Qu.: 126.00  \n                    Max.   :391.000                         Max.   :5400.00  \n                                                                             \n required_car_parking_spaces total_of_special_requests reservation_status\n Min.   :0.00000             Min.   :0.0000            Length:119390     \n 1st Qu.:0.00000             1st Qu.:0.0000            Class :character  \n Median :0.00000             Median :0.0000            Mode  :character  \n Mean   :0.06252             Mean   :0.5714                              \n 3rd Qu.:0.00000             3rd Qu.:1.0000                              \n Max.   :8.00000             Max.   :5.0000                              \n                                                                         \n reservation_status_date\n Min.   :2014-10-17     \n 1st Qu.:2016-02-01     \n Median :2016-08-07     \n Mean   :2016-07-30     \n 3rd Qu.:2017-02-08     \n Max.   :2017-09-14     \n                        \n```\n:::\n\n```{.r .cell-code}\ndim(hoteldata)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 119390     32\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(hoteldata, \"stays_in_weekend_nights\", \"stays_in_week_nights\", \"adults\", \"children\", \"babies\", \"country\", \"total_of_special_requests\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 119,390 × 7\n   stays_in_weekend_nights stays_in_week…¹ adults child…² babies country total…³\n                     <dbl>           <dbl>  <dbl>   <dbl>  <dbl> <chr>     <dbl>\n 1                       0               0      2       0      0 PRT           0\n 2                       0               0      2       0      0 PRT           0\n 3                       0               1      1       0      0 GBR           0\n 4                       0               1      1       0      0 GBR           0\n 5                       0               2      2       0      0 GBR           1\n 6                       0               2      2       0      0 GBR           1\n 7                       0               2      2       0      0 PRT           0\n 8                       0               2      2       0      0 PRT           1\n 9                       0               3      2       0      0 PRT           1\n10                       0               3      2       0      0 PRT           0\n# … with 119,380 more rows, and abbreviated variable names\n#   ¹​stays_in_week_nights, ²​children, ³​total_of_special_requests\n```\n:::\n\n```{.r .cell-code}\nhotelcut <- select(hoteldata, \"stays_in_weekend_nights\", \"stays_in_week_nights\", \"adults\", \"children\", \"babies\", \"country\", \"total_of_special_requests\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(hotelcut)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n stays_in_weekend_nights stays_in_week_nights     adults      \n Min.   : 0.0000         Min.   : 0.0         Min.   : 0.000  \n 1st Qu.: 0.0000         1st Qu.: 1.0         1st Qu.: 2.000  \n Median : 1.0000         Median : 2.0         Median : 2.000  \n Mean   : 0.9276         Mean   : 2.5         Mean   : 1.856  \n 3rd Qu.: 2.0000         3rd Qu.: 3.0         3rd Qu.: 2.000  \n Max.   :19.0000         Max.   :50.0         Max.   :55.000  \n                                                              \n    children           babies            country         \n Min.   : 0.0000   Min.   : 0.000000   Length:119390     \n 1st Qu.: 0.0000   1st Qu.: 0.000000   Class :character  \n Median : 0.0000   Median : 0.000000   Mode  :character  \n Mean   : 0.1039   Mean   : 0.007949                     \n 3rd Qu.: 0.0000   3rd Qu.: 0.000000                     \n Max.   :10.0000   Max.   :10.000000                     \n NA's   :4                                               \n total_of_special_requests\n Min.   :0.0000           \n 1st Qu.:0.0000           \n Median :0.0000           \n Mean   :0.5714           \n 3rd Qu.:1.0000           \n Max.   :5.0000           \n                          \n```\n:::\n:::\n\n\n## Provide Grouped Summary Statistics\n\n\nAbove, I made a smaller version of my dataset using only some of the columns that apply to the demographics of customers, their country, and their length of stay.\nBelow, I filtered by stays with two adults and more than one child in country PRT to see only the data from Portugal. I descended this data by the total number of special requests. I can see that the maximum number of special requests from families with 2 adults and at least one child was five.\nI also sliced the data for the top 10 most special request rows and can now easily see that 9 out of the 10 rows correspond with a stay 3 nights or longer, drawing the conclusion that the longer the stay the more likely families may be to submit special requests.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfilter(hotelcut, `adults` == 2 & `children` >= 1 & `country`== \"PRT\" & `stays_in_weekend_nights` >= 1) %>%\n  arrange(desc(`total_of_special_requests`)) %>%\n  slice(1:10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 7\n   stays_in_weekend_nights stays_in_week…¹ adults child…² babies country total…³\n                     <dbl>           <dbl>  <dbl>   <dbl>  <dbl> <chr>     <dbl>\n 1                       1               5      2       1      0 PRT           5\n 2                       2               3      2       1      0 PRT           5\n 3                       2               4      2       1      0 PRT           4\n 4                       1               1      2       1      0 PRT           4\n 5                       2               3      2       1      1 PRT           4\n 6                       2               3      2       1      0 PRT           4\n 7                       1               4      2       1      0 PRT           4\n 8                       1               4      2       1      0 PRT           4\n 9                       1               2      2       1      0 PRT           4\n10                       1               2      2       2      0 PRT           4\n# … with abbreviated variable names ¹​stays_in_week_nights, ²​children,\n#   ³​total_of_special_requests\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfilter(hotelcut, `babies` >= 2 & `country`== \"PRT\") %>%\n  arrange(desc(`stays_in_weekend_nights`)) %>%\n  slice(1:10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 7\n   stays_in_weekend_nights stays_in_week…¹ adults child…² babies country total…³\n                     <dbl>           <dbl>  <dbl>   <dbl>  <dbl> <chr>     <dbl>\n 1                       3               5      2       0      2 PRT           0\n 2                       2               3      2       0      2 PRT           3\n 3                       2               7      2       0      2 PRT           1\n 4                       2               0      2       0      2 PRT           1\n 5                       2               6      2       0      2 PRT           1\n 6                       2               2      2       0      2 PRT           0\n 7                       1               4      2       0      2 PRT           2\n 8                       1               0      2       0      2 PRT           2\n 9                       1               0      2       1      2 PRT           3\n10                       0               2      2       0     10 PRT           1\n# … with abbreviated variable names ¹​stays_in_week_nights, ²​children,\n#   ³​total_of_special_requests\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfilter(hotelcut, `babies` >= 2 & `country`== \"PRT\") %>%\n  summary()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n stays_in_weekend_nights stays_in_week_nights     adults     children     \n Min.   :0.000           Min.   :0.000        Min.   :2   Min.   :0.0000  \n 1st Qu.:0.000           1st Qu.:1.000        1st Qu.:2   1st Qu.:0.0000  \n Median :1.000           Median :2.000        Median :2   Median :0.0000  \n Mean   :1.231           Mean   :2.538        Mean   :2   Mean   :0.2308  \n 3rd Qu.:2.000           3rd Qu.:4.000        3rd Qu.:2   3rd Qu.:0.0000  \n Max.   :3.000           Max.   :7.000        Max.   :2   Max.   :1.0000  \n     babies         country          total_of_special_requests\n Min.   : 2.000   Length:13          Min.   :0.000            \n 1st Qu.: 2.000   Class :character   1st Qu.:1.000            \n Median : 2.000   Mode  :character   Median :2.000            \n Mean   : 2.615                      Mean   :1.615            \n 3rd Qu.: 2.000                      3rd Qu.:2.000            \n Max.   :10.000                      Max.   :3.000            \n```\n:::\n:::\n\n\n\n### Explain and Interpret\n\nAbove I switched my filtering to show that customers with two or more babies stayed up to eight days max. Customers with two or more babies stayed an average of 1-2 weekend nights, and 2-3 weeknights.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}