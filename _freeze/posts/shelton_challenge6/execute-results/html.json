{
  "hash": "58b1fb4da80443be6b92d37dbdd7e942",
  "result": {
    "markdown": "---\ntitle: \"Challenge 6 Solution\"\nauthor: \"Dane\"\ndescription: \"Visualizing Time and Relationships\"\ndate: \"10/31/2022\"\nformat:\n  html:\n    df-print: paged\n    callout-appearance: simple\n    callout-icon: false\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - shelton\n  - challenge_6\n  - air_bnb\n---\n\n\n\n\n## Challenge 6\n\nTasks:\n\n1)  read in a data set, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  create at least one graph including time (evolution)\n   - try to make them \"publication\" ready (optional)\n   - Explain why you choose the specific graph type\n5)  Create at least one graph depicting part-whole or flow relationships\n   - try to make them \"publication\" ready (optional)\n   - Explain why you choose the specific graph type\n\n[R Graph Gallery](https://r-graph-gallery.com/) is a good starting point for thinking about what information is conveyed in standard graph types, and includes example R code.\n\n\n:::panel-tabset\n\n## 1.) Read in data\n\nI'm going to revisit the 2019 NYC Air BnB data I used in [Challenge 5](https://dacss.github.io/601_Fall_2022/posts/shelton_challenge5.html). \n\n  - AB_NYC ⭐⭐⭐⭐⭐\n\n  \n\n\n::: {.cell}\n\n:::\n\n\n:::{.callout-note collapse=\"true\"}\n\n## Description of `bnb_og`\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Description\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Borough\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Neighbourhood\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Room Type\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Price\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Min Nights\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Availability per Year\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Review Count\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Host Listings\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Clean & quiet apt home by the park\",\"2\":\"Brooklyn\",\"3\":\"Kensington\",\"4\":\"Private room\",\"5\":\"149\",\"6\":\"1\",\"7\":\"365\",\"8\":\"9\",\"9\":\"6\"},{\"1\":\"Skylit Midtown Castle\",\"2\":\"Manhattan\",\"3\":\"Midtown\",\"4\":\"Entire home/apt\",\"5\":\"225\",\"6\":\"1\",\"7\":\"355\",\"8\":\"45\",\"9\":\"2\"},{\"1\":\"THE VILLAGE OF HARLEM....NEW YORK !\",\"2\":\"Manhattan\",\"3\":\"Harlem\",\"4\":\"Private room\",\"5\":\"150\",\"6\":\"3\",\"7\":\"365\",\"8\":\"0\",\"9\":\"1\"},{\"1\":\"Cozy Entire Floor of Brownstone\",\"2\":\"Brooklyn\",\"3\":\"Clinton Hill\",\"4\":\"Entire home/apt\",\"5\":\"89\",\"6\":\"1\",\"7\":\"194\",\"8\":\"270\",\"9\":\"1\"},{\"1\":\"Large Cozy 1 BR Apartment In Midtown East\",\"2\":\"Manhattan\",\"3\":\"Murray Hill\",\"4\":\"Entire home/apt\",\"5\":\"200\",\"6\":\"3\",\"7\":\"129\",\"8\":\"74\",\"9\":\"1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n`bnb_og` provides us with 2019 AirBnb listing info for the five NYC boroughs. Numeric variables include: `Price`, `Min Nights`, `Availability`, `Review Count`, and `Host Listings`. Nominal varibales include `Neighborhood`, `Borough `, and `Room Type`. We'll use several combinations of these variables to visualize interesting relationships regarding booking AirBnbs in NYC.\n:::\n\n## 2.) Tidy Data (as needed)\n\n:::{.callout-note collapse=\"true\"}\n## `bnb_plot`\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Borough\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Neighbourhood\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Room Type\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Price\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Min Nights\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Review Count\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Availability\"],\"name\":[7],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Host List Count\"],\"name\":[8],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Brooklyn\",\"2\":\"Kensington\",\"3\":\"Private room\",\"4\":\"149\",\"5\":\"1\",\"6\":\"9\",\"7\":\"Year-Round\",\"8\":\"Frequent\"},{\"1\":\"Manhattan\",\"2\":\"Midtown\",\"3\":\"Entire home/apt\",\"4\":\"225\",\"5\":\"1\",\"6\":\"45\",\"7\":\"Above Average (300+)\",\"8\":\"Low\"},{\"1\":\"Manhattan\",\"2\":\"Harlem\",\"3\":\"Private room\",\"4\":\"150\",\"5\":\"3\",\"6\":\"0\",\"7\":\"Year-Round\",\"8\":\"Low\"},{\"1\":\"Brooklyn\",\"2\":\"Clinton Hill\",\"3\":\"Entire home/apt\",\"4\":\"89\",\"5\":\"1\",\"6\":\"270\",\"7\":\"Average (180+)\",\"8\":\"Low\"},{\"1\":\"Manhattan\",\"2\":\"Murray Hill\",\"3\":\"Entire home/apt\",\"4\":\"200\",\"5\":\"3\",\"6\":\"74\",\"7\":\"Below Average (70+)\",\"8\":\"Low\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n:::\n\nThe data was fairly tidy after the read-in; the only mutation/manipulation I made outside of removing variables was to transform both `Availability` and `Host List Count` from numeric to categorical for better plots.  \n\n## Time Dependent Visualization\n\nUnfortunately, the only date variable present in the original data was `Last Review` which I didn't find interesting enough to plot, as we wouldn't necessarily visualize a change over time since each listing is unique.\n\n## Visualizing Part-Whole Relationships\n\n:::{.callout-note collapse=\"true\"}\n\n## Lisitng Count by `Borough` and `Room Type` Bar\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](shelton_challenge6_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\nUsing a bar plot with `position = dodge` allows us to view Lisiting counts for each Borough by Room Type, with every Room Type having an individual bar. The labels here aren't great but this was the best I could do with such comapct bars; probably not a good choice for the `dodge` aesthetics.\n:::\n\n:::{.callout-note collapse=\"true\"}\n\n## Listings by `Price` Bar\n\n::: {.cell}\n::: {.cell-output-display}\n![](shelton_challenge6_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\nA bar graph with `position = \"fill\"` allows us to view each Borough's share of the different Price Ratings. Next, I need to figure out how to label each proportion.\n\n:::\n\n:::{.callout-note collapse=\"true\"}\n\n## Listings by `Availability`\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](shelton_challenge6_files/figure-html/availability x price-1.png){width=672}\n:::\n:::\n\nUsing a normal `position = stack` bar graph to plot Listing Count by Availability (and Price Rating)\n\n:::\n\n:::{.callout-note collapse=\"true\"}\n\n## `Price` by `Review Count` Scatter\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](shelton_challenge6_files/figure-html/price x review count scatter-1.png){width=672}\n:::\n:::\n\nNot a particularly useful visualization, I wanted to take a look at the relationship between Price and Review Count. Using a scatterplot, we can see that properties with more reviews typically have a lower price point, which makes sense as they are more accessible to the general public. Unfortunately, there are so many unique price points, the graph is very saturated and we cannot properly view Borough, the third dimension.\n\n**Update:** Took a sample of n=250 from all listings with `Price` below $1000 and `Review Count` above 30. Now we can see there isn't *that* strong a trend between Price and Review Count.\n:::\n\n::: \n\n\n",
    "supporting": [
      "shelton_challenge6_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}