{
  "hash": "164946c6eda8fd7845e2f3fbd1ea4b7c",
  "result": {
    "markdown": "---\ntitle: \"Challenge 5 Solution\"\nauthor: \"Dane Shelton\"\ndescription: \"Introduction to Visualization\"\ndate: \"10/24/2022\"\nformat:\n  html:\n    callout-appearance: simple\n    df-print: paged\n    callout-icon: false\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_5\n  - air_bnb\n  - shelton\n---\n\n\n\n\n## Challenge Tasks:\n\nToday's challenge:\n\n1.  read in a data set, and describe the data set using both words and any supporting information \n2.  tidy data (as needed, including sanity checks)\n3.  mutate variables as needed (including sanity checks)\n4.  create at least two univariate visualizations\n   - try to make them \"publication\" ready\n   - Explain why you choose the specific graph type\n5.  Create at least one bivariate visualization\n   - try to make them \"publication\" ready\n   - Explain why you choose the specific graph type\n\n[R Graph Gallery](https://r-graph-gallery.com/) is a good starting point for thinking about what information is conveyed in standard graph types, and includes example R code.\n\n::: panel-tabset\n\n## Task 1. Read in data\n\nRead in the following dataset:\n\n-   AB_NYC_2019.csv ⭐⭐⭐\n\n\n::: {.cell}\n\n:::\n\n\n### Briefly describe the data\n\nThe data provides information about New York City Airbnb listings for the year 2019. From a single observation we find a description and location of the unit, price, minimum nights, name of the host, host listings count, review info, and availability throughout the year.\n\nTo touch up the data before any other transformations, I renamed/reordered the columns appropriately and removed any observations of units that were available for less than 3 days out of the year.\n\n## 2. Tidy Data and  3. Mutate\n\nIs your data already tidy, or is there work to be done? Be sure to anticipate your end result to provide a sanity check, and document your work here.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Description\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Borough\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Neighbourhood\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Room Type\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Price\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Min Nights\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Availability per Year\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Review Count\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Host Listings\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Availability\"],\"name\":[10],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Host List Count\"],\"name\":[11],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Clean & quiet apt home by the park\",\"2\":\"Brooklyn\",\"3\":\"Kensington\",\"4\":\"Private room\",\"5\":\"149\",\"6\":\"1\",\"7\":\"365\",\"8\":\"9\",\"9\":\"6\",\"10\":\"Year-Round\",\"11\":\"Frequent\"},{\"1\":\"Skylit Midtown Castle\",\"2\":\"Manhattan\",\"3\":\"Midtown\",\"4\":\"Entire home/apt\",\"5\":\"225\",\"6\":\"1\",\"7\":\"355\",\"8\":\"45\",\"9\":\"2\",\"10\":\"Above Average (300+)\",\"11\":\"Low\"},{\"1\":\"THE VILLAGE OF HARLEM....NEW YORK !\",\"2\":\"Manhattan\",\"3\":\"Harlem\",\"4\":\"Private room\",\"5\":\"150\",\"6\":\"3\",\"7\":\"365\",\"8\":\"0\",\"9\":\"1\",\"10\":\"Year-Round\",\"11\":\"Low\"},{\"1\":\"Cozy Entire Floor of Brownstone\",\"2\":\"Brooklyn\",\"3\":\"Clinton Hill\",\"4\":\"Entire home/apt\",\"5\":\"89\",\"6\":\"1\",\"7\":\"194\",\"8\":\"270\",\"9\":\"1\",\"10\":\"Average (180+)\",\"11\":\"Low\"},{\"1\":\"Large Cozy 1 BR Apartment In Midtown East\",\"2\":\"Manhattan\",\"3\":\"Murray Hill\",\"4\":\"Entire home/apt\",\"5\":\"200\",\"6\":\"3\",\"7\":\"129\",\"8\":\"74\",\"9\":\"1\",\"10\":\"Below Average (70+)\",\"11\":\"Low\"},{\"1\":\"Large Furnished Room Near B'way\",\"2\":\"Manhattan\",\"3\":\"Hell's Kitchen\",\"4\":\"Private room\",\"5\":\"79\",\"6\":\"2\",\"7\":\"220\",\"8\":\"430\",\"9\":\"1\",\"10\":\"Average (180+)\",\"11\":\"Low\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nIn order to draw better visualizations from the variables, I mutated `Availability` and `Host Listings` to list them as unranked categorical variables with four levels rather than an integer variable. This will allow us to use aesthetic options like `color`, `shape`, or `fill` to visualize the differences between levels.\n\nAfter the initial removals on the read-in, the data was nearly tidy; there were only 4 missing values, all within `Description`. Because it wouldn't be reasonable to plot all the distinct descriptions, I decided to remove this variable from the plotting data, `bnb_plot`. \n\nOur tidied data has an observation as one rental unit with 8 variables. `bnb_plot` has 30644 observations.\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Borough\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Neighbourhood\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Room Type\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Price\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Min Nights\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Review Count\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Availability\"],\"name\":[7],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"Host List Count\"],\"name\":[8],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Brooklyn\",\"2\":\"Kensington\",\"3\":\"Private room\",\"4\":\"149\",\"5\":\"1\",\"6\":\"9\",\"7\":\"Year-Round\",\"8\":\"Frequent\"},{\"1\":\"Manhattan\",\"2\":\"Midtown\",\"3\":\"Entire home/apt\",\"4\":\"225\",\"5\":\"1\",\"6\":\"45\",\"7\":\"Above Average (300+)\",\"8\":\"Low\"},{\"1\":\"Manhattan\",\"2\":\"Harlem\",\"3\":\"Private room\",\"4\":\"150\",\"5\":\"3\",\"6\":\"0\",\"7\":\"Year-Round\",\"8\":\"Low\"},{\"1\":\"Brooklyn\",\"2\":\"Clinton Hill\",\"3\":\"Entire home/apt\",\"4\":\"89\",\"5\":\"1\",\"6\":\"270\",\"7\":\"Average (180+)\",\"8\":\"Low\"},{\"1\":\"Manhattan\",\"2\":\"Murray Hill\",\"3\":\"Entire home/apt\",\"4\":\"200\",\"5\":\"3\",\"6\":\"74\",\"7\":\"Below Average (70+)\",\"8\":\"Low\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n\n## 4. and 5. Visualizations\n\nLet's use `bnb_plot` with `ggplot2` to produce visuals\n\n::: {.callout-note collapse=\"true\"}\n\n## Univariate Visualization 1: Listing Count by `Borough`\n\n::: {.cell}\n::: {.cell-output-display}\n![](shelton_challenge5_files/figure-html/Univariate Visualization-1.png){width=672}\n:::\n:::\n\nWhen plotting a bar graph for variable `Borough`, we can see where in the city our observations are located. The largest bar is Manhattan, indicating that this borough is a popular choice for owners looking to rent out property for travelers. Manhattan makes sense, it is the quintessential NYC borough despite being the smallest by land. It is also the most densely populated area of the city, of course there would be a larger market for short-term rental properties!\n\n:::\n\n:::{.callout-note collapse=true}\n\n## Univariate Visualization 2: Listing Count by `Availability`\n\n::: {.cell}\n::: {.cell-output-display}\n![](shelton_challenge5_files/figure-html/Histogram Availability-1.png){width=672}\n:::\n:::\n\n\nUsing another bar-plot to view `Availability`, I was initially surprised to see how many properties on Air Bnb were listed for less than a month out of the year. However, in cities with high movement like NYC, many residents will sublet their private properties even for days at a time to combat the high cost of rent.\n\n:::\n\n:::{.callout-note collapse=true}\n\n## Bivariate Visualization 1: Histogram of `Price` By `Borough`\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](shelton_challenge5_files/figure-html/Price by Borough Hist-1.png){width=672}\n:::\n:::\n\n\nUsing `geom_histogram` to produce a distribution of `Price`, a `fill` aesthetic was used to visualize the distribution by `Borough`. We can see that the Bronx has the bulk of observations at cheaper nightly price points, but as price increases, Brooklyn and Manhattan take over the distribution.\n\n:::\n\n:::{.callout-note collapse=\"true\"}\n\n## Bivariate Visualization 2: `Price` by `Room Type` \n\n::: {.cell}\n::: {.cell-output-display}\n![](shelton_challenge5_files/figure-html/Ridgeline- Price x Room X Boro-1.png){width=672}\n:::\n:::\n\nCreating a Ridge plot of `Price` by `Room Type` with package `ggridges`, I then used a `facet_wrap` to visualize this relationship by `Borough`. In a trend consistent with our histogram, we see the Bronx, Queens, and Staten Island having lower price points on all three room types, with Manhattan as the most expensive Borough.\n\n:::\n\n:::\n                          \n\n\n",
    "supporting": [
      "shelton_challenge5_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}