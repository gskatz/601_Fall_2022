{
  "hash": "032b656bc37ee4c2d0a1ddd65cb36a0b",
  "result": {
    "markdown": "---\ntitle: \"Sarah McAlpine - Final Project\"\nauthor: \"Sarah McAlpine\"\ndesription: \"Final Project\"\ndate: \"12/17/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - sarahmcalpine\n  - joins \n  - personaldataset\n  - ggplot2\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(viridis)\nlibrary(viridisLite)\nlibrary(readxl)\nlibrary(summarytools)\nlibrary(wordcloud)\nlibrary(wordcloud2)\nlibrary(tm)\nlibrary(SnowballC)\n\nknitr::opts_chunk$set(echo = TRUE)\n```\n:::\n\n\n\n## Data Summary\nA software company has gathered qualitative and quantitative feedback from 24 client organizations using three surveys at different stages of the client relationship: purchase decision, launch, and early results. At most, three individual people from each institution responded to at least one survey, two people responded to two surveys, and no one person responded to all three surveys. Given the small sample size of only 31 respondents across the 3 surveys, and given the overlap in feedback across the three surveys, this analysis will combine all available data into a single set for an initial analysis. \n\nAt the outset, it should be noted that the conclusions drawn from this data will be limited due to the small sample size. The value of this analysis, therefore, aims to find strong trends and to determine what changes, if any, to the surveys would yield more business intelligence.\n\n\n## Read In & Join\nThe data has been sanitized to protect the privacy of those involved. Client email addresses are replaced with a new variable, `UserID`, where the letter corresponds to an organization and the number corresponds to the respondent from that organization. To illustrate, R1, R2, R3 are three different people from the same organization. This will allow analysis of individuals and organization-based feedback. \n\nSince there is some overlap in organizations, respondents, and questions across the three surveys, the first step will be a `full_join`, with a calculation of `x/2` to align the 10-point ratings with the 5-point ratings. A full join will allow analysis of as much data as possible, while requiring careful handling of NA values. \n\n::: {.cell}\n\n```{.r .cell-code}\n# assign x/2 function\nmydivide <- function(x){x/2}\n\n# read in each sheet\nsurvey1_orig <- read_xlsx(\"_data/ClientSurveys.xlsx\", sheet =1)\nsurvey2_orig <- read_xlsx(\"_data/ClientSurveys.xlsx\", sheet =2) %>%\n  mutate(across(starts_with(\"How would\"), funs(mydivide)),\n            .keep = \"unused\")\nsurvey3_orig <- read_xlsx(\"_data/ClientSurveys.xlsx\", sheet =3) %>%\n    mutate(across(starts_with(c(\"How\", \"Overall\")), funs(mydivide)),\n            .keep = \"unused\")\n\n# full join to keep all data, key = UserID\njoinedsurveys_orig <- survey2_orig %>%\n  full_join(x = survey2_orig, y=survey1_orig, by = \"UserID\") %>%\n  full_join(survey3_orig, by = \"UserID\")\n```\n:::\n\n\n\n## Cleaning\nAs with most surveys, the questions are too long for column names, so each is renamed with the simplest phrasing possible. The new names contain prefixes and suffixes that will help with sorting later. For instance, rating questions begin with \"qr_\", free text questions begin with \"qf_\", and selection questions begin with \"qs_\". The full text of each question is listed in the appendix at the end of this document.\n\n::: {.cell}\n\n```{.r .cell-code}\n# look at colnames to rename them\n# colnames(joinedsurveys_orig)\n\n# assign clean data frame\nsurveys_renamed <- joinedsurveys_orig\n#rename columns\ncolnames(surveys_renamed) <- c(\"Timestamp1\",\n                               \"UserID\",\n                               \"delete\",\n                               \"delete2\",\n                               \"qs_prompted_adoption\",\n                               \"qf_goal_constituents\",\n                               \"qf_launcheffort_staffrolestime\",\n                               \"qr_launcheffort_retaskstaff\",\n                               \"qr_launcheffort_generatecontent\",\n                               \"qr_launcheffort_techIT\",\n                               \"qr_launcheffort_staffadoption\",\n                               \"qf_launcheffort_detail\",\n                               \"qr_benefit_donorengagement\",\n                               \"qr_benefit_increasedgifts\",\n                               \"qr_benefit_costsavings\",\n                               \"qr_benefit_timesavings\",\n                               \"qr_benefit_GOproductivity\",\n                               \"qf_benefit_detail\",\n                               \"qf_donorcommsbefore\",\n                               \"qf_process_content\",\n                               \"qf_donor_relationship\",\n                               \"qf_donor_interaction\",\n                               \"qf_donor_response\",\n                               \"qf_donor_analytics\",\n                               \"qf_team_analytics\",\n                               \"qf_support_detail\",\n                               \"qf_Olacking\",\n                               \"qf_biggest_success\",\n                               \"qf_reality_vs_expectations\",\n                               \"qf_client_advice\",\n                               \"qf_Oimprove\",\n                               \"qr_implementationsupport\",\n                               \"Timestamp2\",\n                               \"qs_prompted_adoption\",\n                               \"qs_choice_over_competitors\",\n                               \"qf_feature_detail\",\n                               \"qr_benefit_donorengagement\",\n                               \"qr_benefit_increasedgifts\",\n                               \"qr_benefit_costsavings\",\n                               \"qr_benefit_timesavings\",\n                               \"qr_benefit_GOproductivity\",\n                               \"qf_choice_factors\",\n                               \"Timestamp3\",\n                               \"qs_onboard_lacking\",\n                               \"qf_onboard_lacking_detail\",\n                               \"qs_onboard_wentwell\",\n                               \"qf_onboard_wentwell_detail\",\n                               \"qf_onboard_communication_detail\",\n                               \"qf_onboard_interpretneeds_detail\",\n                               \"delete3\",\n                               \"qr_onboard_communication\",\n                               \"qr_onboard_interpretneeds\",\n                               \"qr_onboard_overall\")\n# view new column names\n# colnames(surveys_renamed)\n```\n:::\n\nAfter renaming, pivoting and grouping is used to combine the repeated questions into the same variable. For instance, surveys 1 and 2 both ask, \"What prompted your adoption of [the software product]?\" This step gets those responses into the same column while maintaining the distinct timestamps and UserIDs for each instance. At first, the dataset includes 53 columns, and after de-duplicating the 6 repeated questions, it has 47 columns.\n\n::: {.cell}\n\n```{.r .cell-code}\n# combine repeated questions\ndeduped_questions <- surveys_renamed %>%\n  # result is 53 variables\n  pivot_longer(cols = (starts_with(\"q\")),\n               names_to = \"question\",\n               values_to = \"response\",\n               values_transform = list(response = as.character),\n               values_drop_na = TRUE) %>%\n  group_by(question) %>%\n  pivot_wider(names_from = \"question\",\n              names_sort = TRUE,\n              values_from = \"response\") \n# confirmed reduction in columns and same number of rows\ndim(deduped_questions)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 32 47\n```\n:::\n:::\n\nWith the names abbreviated and the repeated questions regrouped, further cleaning can be done. First, the columns are sorted alphabetically to make use of the naming conventions. Two unneeded questions about sizing and shipping for a gift are removed as well as one row with a test response. Various spellings of \"n/a\", \"N/A\", and \"???\" are mutated to `NA` values. The fields that had been mutated from numeric to character for the pivot are converted back to numeric values, and then those numeric columns are moved to the front of the data set after UserID. \n\nThe result is a tidy data set where each of 31 respondents and all of their responses are on the same row beginning with the UserID, and 44 variables are organized into separate columns for analysis.\n\n::: {.cell}\n\n```{.r .cell-code}\n# cleaning steps\nsurveys_clean <- deduped_questions %>%\n    # alpha-order columns\n    select(order(colnames(deduped_questions))) %>%\n    # remove deletes\n    select(-starts_with(\"delete\")) %>%\n    # remove test row, should get 31 x 45\n    filter(is.na(qf_goal_constituents) | qf_goal_constituents != \"test\") %>%\n    # deal with NAs\n    mutate(across(where(is.character), ~na_if(.,\"n/a\"))) %>%\n    mutate(across(where(is.character), ~na_if(.,\"N/A\"))) %>%\n    mutate(across(where(is.character), ~na_if(.,\"N/a\"))) %>%\n    mutate(across(where(is.character), ~na_if(.,\"???\"))) %>%\n    # group\n    group_by(sort(\"UserID\")) %>%\n    # arrange by client\n    arrange(\"UserID\") %>%\n    # convert back to numeric\n    mutate(across(starts_with(\"qr\"), ~as.numeric(.))) %>%\n      # move numeric values to front\n      relocate(where(is.numeric)) %>%\n      # bring UserID to the leftmost\n      relocate(\"UserID\")\ndim(surveys_clean)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 31 45\n```\n:::\n:::\n\n\n\n## Data Questions\nWith a richer data set, it's possible that significant correlations could be found between client characteristics and the feedback they give, such as length of time with the software, staff size, usage categories, etc. However, since this analysis seeks to identify broad trends across aspects of performance and the effort required to implement the software, the primary focus will be on those performance and effort variables rather than trends among organizations or respondents. \n\nA total of 13 questions asked respondents to rate feedback on a scale of 1-5 (as noted in the cleaning steps above, those on a scale of 1-10 were recalculated). A simple boxplot with a point overlay of individual ratings gives a general idea of the quantitative data. A \"jitter\" positioning on the geom_point helps make it easier to see the quantity of responses and generally where they were.\n\n::: {.cell}\n\n```{.r .cell-code}\n# set up rating data, 177 x 3\n ratings <- surveys_clean %>%\n  ungroup() %>%\n  select(starts_with(\"qr\") | \"UserID\") %>%\n  pivot_longer(cols = starts_with(\"qr\"),\n               names_to = \"question\",\n               values_to = \"rating\",\n               values_drop_na = TRUE) \n\n# boxplot with jitter point \nratings %>% \n  ggplot(aes(question, rating)) +\n  geom_boxplot(fill = \"#fde725\") +\n  coord_flip() +\n      geom_point(alpha = .4,\n             size = .2,   \n             position = \"jitter\") +\n  labs(title = \"Exploratory Visualization of All Ratings\")\n```\n\n::: {.cell-output-display}\n![](SarahMcAlpine_finalproject_files/figure-html/prepare and plot rating responses-1.png){width=672}\n:::\n:::\n\nIn the plot above, the range and density of responses are easy to see. With this view, it is clear that only one person responded to the \"interpret needs\" question, about 5-6 responded to \"launch effort\" questions, and a much larger sample responded to \"benefit\" questions. The one person who responded regarding how well the software company interpreted their needs during setup responded with the most positive possible rating. The launch effort and benefit questions require further plotting to analyze, as neither tells a clear story from this noisy plot. It is also not very helpful to see benefits ranked against effort.\n\n\n## Quantitative Analysis\n\n\n### Early Benefits of the Software\nFrom the boxplot below, arranged by decreasing medians, it is clear that improved donor engagement and time savings are the benefits most strongly reported. Cost savings has the broadest span with a mean in the center of the rating options. Both increased gifts and gift officer productivity are on the lower end of benefits experienced, since both have means greater than the minimum rating, it is safe to interpret that these benefits have been seen to some degree. It is notable that cost savings, increased gifts, and gift officer productivity all have significant responses at the minimum rating; the software company should pay attention to those who are reporting none of these benefits.\n\n::: {.cell}\n\n```{.r .cell-code}\n# set up benefits data \nbenefits <- surveys_clean %>%\n  ungroup() %>%\n  select(starts_with(\"qr_ben\") | \"UserID\") %>%\n  rename(\"cost savings\" = \"qr_benefit_costsavings\", \n         \"improved donor engagement\" = \"qr_benefit_donorengagement\", \n         \"gift officer productivity\" = \"qr_benefit_GOproductivity\", \n         \"increased gifts\" = \"qr_benefit_increasedgifts\", \n         \"time savings\" = \"qr_benefit_timesavings\") %>%   \n  pivot_longer(cols = !UserID,\n               names_to = \"question\",\n               values_to = \"rating\",\n               values_drop_na = TRUE) \n\n# boxplot\nbenefits %>%\n  group_by(question) %>% \n  ggplot(aes(rating, question )) +\n  geom_boxplot(fill = \"#5ec962\",\n                xlim= c(0,5)) +\n  scale_y_discrete(limits = c(\"gift officer productivity\", \n                              \"increased gifts\", \n                              \"cost savings\", \n                              \"time savings\", \n                              \"improved donor engagement\")) +\n  labs(title = \"Degree of Product Benefits Experienced\", x = \"Client Rating (low to high)\" , y = NULL) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](SarahMcAlpine_finalproject_files/figure-html/benefits-1.png){width=672}\n:::\n:::\n\nNotably, one qualitative question on the survey regarding internal staff metrics (nearly synonymous with gift officer productivity), all four respondents to that free text question indicated they had not looked at the internal analytics. Therefore, it is possible that these benefits may be going unnoticed. The software company may wish to increase attention to that feature. It should be noted that no person gave feedback on both the gift officer productivity rating AND the internal analytics question. Nonetheless, the strong trends of each group indicate a possible gap that the software company should note.\n\n\n#### Alternate Views\nOn the way to creating the boxplot above, other plots were attempted that were not as helpful. \n\n::: {.cell}\n\n```{.r .cell-code}\n# geom_jtter\nbenefits %>% \n  ggplot(aes(question, rating)) +\n  geom_jitter(width = .1,\n              height = .1,\n              alpha = .2,\n              size = 10,) +\n  scale_color_viridis_d() +\n  scale_x_discrete(limits = c(\"gift officer productivity\", \n                              \"increased gifts\", \n                              \"cost savings\", \n                              \"time savings\", \n                              \"improved donor engagement\")) +\n  coord_flip() +\n  labs(title = \"Density of Benefit Ratings: View A\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](SarahMcAlpine_finalproject_files/figure-html/benefits - less helpful explorations-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# geom_count\nbenefits %>% \n  ggplot(aes(question, rating)) +\n  geom_count(color = \"#440154FF\") +\n  scale_size_area(max_size = 10) +\n  coord_flip() +\n  scale_x_discrete(limits = c(\"gift officer productivity\", \n                              \"increased gifts\", \n                              \"cost savings\", \n                              \"time savings\", \n                              \"improved donor engagement\")) +\n  theme_minimal() +\n  labs(title = \"Density of Benefit Ratings: View B\") +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](SarahMcAlpine_finalproject_files/figure-html/benefits - less helpful explorations-2.png){width=672}\n:::\n\n```{.r .cell-code}\n# density of ratings for each benefit\nbenefits %>%\n   ggplot(aes(rating, group = question, fill = question)) +\n           geom_density(alpha = .9) +\n  facet_wrap(\"question\") +\n  scale_fill_viridis_d() +\n  theme_minimal() +\n  labs(title = \"Density of Benefit Ratings: View C\") +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](SarahMcAlpine_finalproject_files/figure-html/benefits - less helpful explorations-3.png){width=672}\n:::\n:::\n\nAbove is a jitter plot that gives a general, but ultimately unhelpful, indication of the density of response ratings for each benefit, as does a geom_count plot where the size of dots represents frequency of responses. There is also a density plot that illustrated the frequency with which each rating was received for each benefit, and there is limited knowledge to gain here. If these were plotting average ratings over time, that would be much more interesting. Still, it can be noted that some benefits had greater variability in ratings than others, such as improved donor engagement and cost savings. \n\nFurther analysis could group ratings to take another view. For instance it could be argued that a rating of 1 = low, ratings of 2-3 = moderate, and ratings of 4-5 = high. New trends could emerge with this approach, but perhaps not.\n\n\n### Effort Required for Launch\nThe next group of ratings for investigation are those regarding the degree of effort required for launching the software product, across four aspects: the involvement of IT/technical staff, the work of retasking existing staff for a new model of work, the effort required for staff to be trained on and adopt the software, and the work of generating the content for the ultimate output. See below for how these were rated in relation to one another.\n\n::: {.cell}\n\n```{.r .cell-code}\n#set up launch data \nlaunch <- surveys_clean %>%\n  ungroup() %>%\n  select(starts_with(\"qr_launch\") | \"UserID\") %>%\n  rename(\"generate content\" = \"qr_launcheffort_generatecontent\",\n         \"retasking staff\" = \"qr_launcheffort_retaskstaff\",\n         \"staff adoption\" = \"qr_launcheffort_staffadoption\",\n         \"IT/technical staff\" = \"qr_launcheffort_techIT\" ) %>%   \n  pivot_longer(cols = !UserID,\n               names_to = \"question\",\n               values_to = \"rating\",\n               values_drop_na = TRUE) \n\n# plot on boxplot, in increasing order\nlaunch %>% \n  arrange() %>%\n  ggplot(aes(question, rating)) +\n  geom_boxplot(fill = \"#2D708EFF\") +\n  coord_flip() +\n  scale_x_discrete(limits = c(\"generate content\" , \"staff adoption\" , \"retasking staff\" , \"IT/technical staff\")) +\n  labs(title = \"Degree of Effort Required for Launch\", \n       subtitle = \"*based on only 6 responses\",\n       y = \"Client Rating (low to high)\",\n       x = NULL) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](SarahMcAlpine_finalproject_files/figure-html/launch ratings-1.png){width=672}\n:::\n:::\n\nThis visualization makes it easy to see which aspects were the easiest, and which were the hardest. The lowest is the effort required by IT/technical staff. Next, the effort of retasking staff to make internal team adjustments to roles of work, followed closely by the effort of staff learning to use the software, shown as staff adoption. The greatest degree of effort reported was for generating content within the system. Given the context, this last is an excellent finding. \n\nTo explain further, the greatest amount of effort required is the substantive work that makes use of the product. On the other hand, if staff adoption took the most work, the software company would certainly want to improve the onboarding and training process. It's also great that the technical staff assistance needed is minimal, and that the staff who will be using the product take more effort to learn it. To add context, this is a specialized product for domain experts, and so it is expected that there be substantial effort involved in training them to use it. The amount of effort required to generate content is the point of the product and projects anyway, so that makes sense to take the most effort. \n\nThat said, it would be interesting to compare the degree of effort required to generate content with and without the software: is it decreased, even if it still requires the most effort? Furthermore, it would be interesting to compare the effort ratings over time for the same organization: is year two easier than year one, and year three easier still?\n\n\n### Factors for Adoption\nAnother facet the surveys explored were the factors that led the organizations to adopt the software in the first place. For this question, which was present in two of the surveys, the answers were in a multi-selection format, where respondents could select any number of the options listed. The following visualization is based on the responses only, and so there may have been other options provided that no one selected.\n\nTo set up this for plotting, NA values were omitted so that the percentage of respondents who selected a given option could be calculated from an accurate total. It was a challenge to figure out how to get a single column of 28 responses into a rectangular format for plotting. `Mutate` allowed the addition of sum columns to the data, and later the full text column was dropped. Once regular expressions based on distinct keywords were identified, the addition of summed columns was straightforward. At that point, the data was quite repetitive, and so the next step was to take a single row and pivot it to a vertical format. What results is a table including just the keyword of each factor and the number of times it appeared in the data. \n\nThis was ideal for visualizing the part-to-whole relationship of what proportion of respondents selected each option. The final step was to add a column with the percentage as a function of the sum over the total responses, and then to reformat decimal results into percentages rounded to a single decimal place.\n\n::: {.cell}\n\n```{.r .cell-code}\n# set up adoption selection question data\nadoption <- surveys_clean %>%\n  ungroup() %>%\n  select(contains(\"prompted_adoption\")) %>%\n  na.omit()\n\n# add count and percentage of occurences to df\nadoption_df <- adoption %>%\n  mutate(personalization = sum(str_count(.,regex(\"personalization\")))) %>%\n  mutate(campaign = sum(str_count(.,regex(\"campaign\")))) %>%\n  mutate(reporting = sum(str_count(.,regex(\"reporting\")))) %>%\n  mutate(digitize = sum(str_count(.,regex(\"digitize\")))) %>%\n  mutate(flexibility = sum(str_count(.,regex(\"Flexibility\")))) %>%\n    select(!starts_with(\"q\")) %>%\n    slice(1) %>%\n    # pivot\n  pivot_longer(c(\"personalization\",\n                 \"campaign\", \n                 \"reporting\", \n                 \"digitize\", \n                 \"flexibility\"),\n               names_to = \"feature\",\n               values_to = \"votes\") %>%\n  # add column for percentages\n  mutate(per = votes / 28) %>%\n  mutate(per = round (per*100, digits = 1)) %>%\n  arrange(desc(votes)) \n\n# plot\nadoption_df %>%\n  arrange(desc(per)) %>%\n  ggplot(aes(x = feature, y = per)) +\n           geom_bar(stat = \"identity\",\n                    fill = \"#7ad151\") +\n  scale_y_continuous(limits = c(0,80)) +\n  scale_x_discrete(limits = c(\"flexibility\",\"campaign\",\"reporting\",\n                              \"digitize\", \"personalization\")) +\n  labs(title = \"Factors that Prompted Adoption\", \n       x = \"reason\", \n       y = \"% adopted the software for this reason\") +\n  theme_classic() +\n  theme(axis.title.y=element_blank(),\n        axis.text.y=element_blank(),\n        axis.ticks.y=element_blank()) +\n  coord_flip() +\n    geom_text(data = filter(adoption_df, feature == \"personalization\"), aes(x=feature, y=0, \n                                 label = paste0(\"Desire for increased personalization in routine donor relationship-building                  \", per ,\"%\")), hjust = -0.01) +\n    geom_text(data = filter(adoption_df, feature == \"digitize\"), aes(x=feature, y=0, \n                                 label = paste0(\"Digitize/modernize the advancement office                                               \", per ,\"%\")), hjust = -0.01) +\n    geom_text(data = filter(adoption_df, feature == \"reporting\"), aes(x=feature, y=0, \n                                 label = paste0(\"Solve the burden of donor stewardship reporting                  \", per ,\"%\")), hjust = -0.01) +\n    geom_text(data = filter(adoption_df, feature == \"campaign\"), aes(x=feature, y=0, \n                                 label = paste0(\"Increased demands of a campaign                    \", per ,\"%\")), hjust = -0.01) +\n    geom_text(data = filter(adoption_df, feature == \"flexibility\"), aes(x=feature, y=0, \n                                 label = paste0(per ,\"%     Flexibility vs. print for campaign materials\")), hjust = 0) \n```\n\n::: {.cell-output-display}\n![](SarahMcAlpine_finalproject_files/figure-html/selection responses 2-1.png){width=672}\n:::\n:::\n\nThe above plot required manual labeling to place the many-word factors onto the value bars themselves. This is much easier to read than a legend or separate axis labels. With more time, it would have been better to place the percentage labels individually rather than with many spaces added to the x labels. This may not render well in all cases. \n\nHowever, despite its shortfalls, this is a really clear visual of how these factors ranked for the respondents in adopting the software. Personalization of donor communications is a clear priority, followed by a desire to digitize and modernize. At about the same interval is the desire to solve the administrative burden of producing and sharing stewardship reports, followed again at about the same interval by increased demands of a fundraising campaign. The least favored option, at less than 10% as popular as the next factor and only 5% as popular as the most selected option, is the flexibility offered by the platform over print campaign materials. \n\nThe software company should note these rankings as they approach the market and try to win new clients. They are likely to benefit from emphasizing the possibility for personalization and modernization. Perhaps the flexibility of digital vs. print campaign materials would be a greater focus for those organizations that report increased campaign demands. \n\n\n## Qualitative Analysis\nOf course, not all of the questions on the survey asked respondents to rate categories. Several questions were free text questions that allowed the clients to mention the features, issues, and processes that were most pressing for them. A closer look at their text-as-data could yield interesting findings for the software company, or in the least, could help define further questions for future surveys and research.\n\n\n### Word Cloud\nA word cloud provides a general sense of the frequency that words appear in a body, or corpus, of text. Most of the time, the words in the center and in larger sizes are used more frequently. The survey responses were first cleaned by identifying and removing NA values, and then by using text mining tools in the `tm` package: remove punctuation, change all characters to lowercase, ignore common English words that would add little value (like \"the\", \"and\", \"to\", etc.), and finally to group words with the same root or \"stem\" together. This last part is helpful so that words like \"report,\" \"reports,\" and \"reporting\" are grouped together rather than being counted separately. These functions add value that are especially useful when analyzing large corpora of text, but are also helpful in this case. \n\nAfter the text was cleaned, the frequency of 6 instances was used as the minimum parameter for what would appear in the word cloud. This was a subjective decision based on observation of several options, and this seemed the clearest and most helpful view of the data. The resulting word cloud is below.\n\n::: {.cell}\n\n```{.r .cell-code}\n# isolate and prepare freetext responses\nfreetext <- surveys_clean %>%\n  ungroup() %>%\n  # select only the freetext variables\n  select(starts_with(\"qf_\") | \"UserID\") %>%\n  # change \"did not select\" responses to NA\n  mutate(qf_feature_detail = if_else(str_detect(qf_feature_detail, \"select\"), \n                                     NA_character_, qf_feature_detail)) %>%\n  mutate(across(na.rm = TRUE))\n\n  # set up free text corpus\n  ftcorpus <- Corpus(VectorSource(freetext))\n  # inspect(ftcorpus)\n  \n  # replace symbols and special characters with spaces\n  toSpace <- content_transformer(function (x , pattern ) gsub(pattern, \" \", x))\n  ftcorpus <- tm_map(ftcorpus, toSpace, \"/\")\n  ftcorpus <- tm_map(ftcorpus, toSpace, \"@\")\n  ftcorpus <- tm_map(ftcorpus, toSpace, \"\\\\|\")\n  ftcorpus <- tm_map(ftcorpus, toSpace, \"NA\")\n  ftcorpus <- tm_map(ftcorpus, toSpace, \"\\n\")\n  ftcorpus <- tm_map(ftcorpus, toSpace, \"c\\\\(\")  \n\n  # clean corpus for useful words only\n  ftclean <- tm_map(ftcorpus, tolower)\n  ftclean <- tm_map(ftclean, removeNumbers)\n  ftclean <- tm_map(ftclean, removePunctuation)\n  ftclean <- tm_map(ftclean, removeWords, stopwords(\"english\"))\n  ftclean <- tm_map(ftclean, stemDocument)\n\n  # check the result\n  # inspect(ftclean)\n  \n  #build wordcloud\n  wordcloud(ftclean,\n            min.freq = 6,\n            colors = viridis(24),\n            random.order = F)\n```\n\n::: {.cell-output-display}\n![](SarahMcAlpine_finalproject_files/figure-html/text response prep-1.png){width=672}\n:::\n:::\n\nThis visualization makes it easy to identify the top five wordstems respondents used: donor, report, use, content, and platform. To begin to interpret this outcome, it is unsurprising that these are the top five words. After all, the software is a platform for sharing reports and content with donors, and the questions are aimed at the staff who use that platform. No big surprises there. One strange output is the wordstem, \"realli\", which upon investigation turns out to be many uses of the word <em>really</em>. It would be interesting to compare these words respondents used most to the frequency with which the same words appear in the prompts. \n\n\n### Barplot\nAfter the top five, the rest are more difficult to rank visually in a word cloud, so a barplot will be helpful here. Since the barplot is more orderly and therefore easier to read, the minimum frequency used in this plot is increased from 6 to 8 occurrences. The result is below in descending order.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# set up ordered list of most frequent stem words\ndtm <- DocumentTermMatrix(ftclean)\nfreq <- colSums(as.matrix(dtm))\nfreq <- freq[order(freq, decreasing=TRUE)]\n\n# create data set with words and its frequency\nwf <- data.frame(word=names(freq), freq=freq) \n\n# plot word frequency\nggplot(subset(wf, freq > 8), \n       aes(x = reorder(word, freq), freq)) +\ngeom_bar(stat=\"identity\", fill = \"#21918c\") +\n  coord_flip() +\n  theme_minimal() +\n  labs(title = \"Most Frequently Used Words in Survey Responses\", y = \"times used\", x = \"root word\")\n```\n\n::: {.cell-output-display}\n![](SarahMcAlpine_finalproject_files/figure-html/word frequency geom_bar-1.png){width=672}\n:::\n:::\n\nA barplot stacks the words neatly, and with them sorted by frequency, it is very easy to identify their frequency in relation to one another. It is also much easier to read the words themselves. After the top five, it is now possible to identify the next group of most frequently used words: time, office/officer, get, data, gift, and communicate/communication. We now know that time is a high concern for this group, as well as (possibly) \"getting data\", (possibly) \"gift officers\", and various aspects of communication. It could be interesting to follow up with an analysis of two-word pairs to see if these theories play out.\n\n\n## Conclusion\nDespite the relatively small sample size, several strong trends emerge in the results of these surveys. The software company now has a sense of which factors were most powerful in prompting its adoption, which aspects of launching the software required the most effort, which benefits were being experienced most at the time of the survey, and what concepts the respondents are considering most when given the chance to respond in their own words. These are valuable findings that can help shape the company's onboarding program, business development, and product refinement.\n\nThe use of R in this analysis was critical to its success and replicability. The \"viridis\" color palette was selected for its high visual accessibility. The analysis includes both quantitative analysis and qualitative analysis and approaches many aspects of data cleaning and tidying that were unique to each grouping of survey questions. \n\nAcknowledgment and much gratitude is due to Professors Meredith Rolfe and Dr. Rosemary Pang; DACSS tutors Maddie Hertz, Sathvik Thogaru, and Leah Dion; and classmates who helped along the way. Thanks as well to the online R coding community on GitHub, StackOverflow, and R-Bloggers.com. This global community gave guidance and training, asked interesting questions, infused the learning process with humanity and good humor, and was boldly vulnerable. Many thanks to all of you.\n\n\n## Selected Sources\n\n* https://adv-r.hadley.nz/index.html\n* https://byrneslab.net/classes/biol607/readings/wickham_layered-grammar.pdf\n* https://www.data-to-viz.com/\n* https://datasciencelk.com/creating-a-word-cloud-using-r/\n* https://ggplot2.tidyverse.org/index.html\n* https://idc9.github.io/stor390/notes/custom_viz/custom_viz.html\n* https://posit.co/resources/cheatsheets/\n* https://r-pkgs.org/\n* https://r-graph-gallery.com/\n* https://r-graphics.org/\n* https://r4ds.had.co.nz/index.html\n* https://rstudio-education.github.io/hopr/\n* https://www.tidytextmining.com/tidytext.html\n\n\n## Appendix\nComplete Survey Questions and Renaming Notes\n\n::: {.cell}\n\n```{.r .cell-code}\n#  [1] \"Timestamp.x\"                                             \n\n#  [2] \"UserID\"                                               \n\n#  [3] \"What size sweatshirt would you like (we are out of mediums, sorry!)?.x\"             \n#  renamed: delete                                                         \n\n#  [4] \"What address should we ship the sweatshirt to?.x\"        \n#  renamed: delete                                                         \n\n#  [5] \"What prompted your adoption of O?.x\"                     \n# renamed:prompted_adoption                                              \n\n#  [6] \"What is your annual fundraising goal, and how many constituents do you reach out to with O?.x\"\n# renamed:goal_constituents                                              \n\n#  [7] \"Outside of your user base, how many individuals support processes within O and what are their individual roles? If possible, please estimate what percentage of their time is O focused..x\"  \n# renamed: launcheffort_staffrolestime                                    \n\n#  [8] \"Please indicate the scale of effort required for launching the various aspects of O (1 = Low level of effort; 5 = High level of effort). [Retasking of staff].x\"           \n# renamed: launcheffort_retaskstaff                                       \n\n#  [9] \"Please indicate the scale of effort required for launching the various aspects of O (1 = Low level of effort; 5 = High level of effort). [Generating content].x\"           \n# renamed: launcheffort_generatecontent                                   \n\n# [10] \"Please indicate the scale of effort required for launching the various aspects of O (1 = Low level of effort; 5 = High level of effort). [Tech/Interface with IT].x\"       \n# renamed: launcheffort_techIT                                            \n\n# [11] \"Please indicate the scale of effort required for launching the various aspects of O (1 = Low level of effort; 5 = High level of effort). [Challenges with staff adoption and comfort].x\"\n# renamed: launcheffort_staffadoption                                     \n\n# [12] \"Please add any comments or details that would help us understand your ratings better....12.x\"                        \n# renamed: launcheffort_detail                                            \n\n# [13] \"Please indicate the degree to which you have experienced the following benefits from O (1 = To a small degree; 5 = To a great degree). [Improved number or quality of donor engagement touches (whether measured or anecdotal)].x\" \n# renamed: benefit_donorengagement                                        \n\n# [14] \"Please indicate the degree to which you have experienced the following benefits from O (1 = To a small degree; 5 = To a great degree). [Increase in financial contributions].x\"\n# renamed: benefit_increasedgifts\n\n# [15] \"Please indicate the degree to which you have experienced the following benefits from O (1 = To a small degree; 5 = To a great degree). [Cost savings].x\"                    \n# renamed: benefit_costsavings                                            \n\n# [16] \"Please indicate the degree to which you have experienced the following benefits from O (1 = To a small degree; 5 = To a great degree). [Time savings].x\"                    \n# renamed: benefit_timesavings                                         \n\n# [17] \"Please indicate the degree to which you have experienced the following benefits from O (1 = To a small degree; 5 = To a great degree). [Increased gift officer productivity].x\" \n# renamed: benefit_GOproductivity   \n\n# [18] \"Please add any comments or details that would help us understand your ratings better....18.x\"                        \n# renamed: benefit_detail           \n\n# [19] \"How did you manage philanthropic communications before O?.x\"                        \n# renamed: donor_commsbefore \n\n# [20] \"What is your process for developing content, and how do you know what content to feed to each donor as youâ€™re personalizing sites/reports? To what extent is this decided/produced by gift officers versus other team members?.x\"\n# renamed: process_content \n\n# [21] \"What challenges of donor relationship-building is O helping to solve for you?.x\"    \n# renamed: donor_relationship                                             \n\n# [22] \"How has O changed, facilitated, or limited your interaction with donors?.x\"         \n# renamed: donor_interaction                                              \n\n# [23] \"What has been the donor response to hyper-personalized communications?.x\"          \n# renamed: donor_response                                                 \n\n# [24] \"What have you learned from looking at the end-donor use data O provides?.x\"         \n# renamed: donor_analytics                                               \n\n# [25] \"What have you learned about your internal team through the aggregate analytics module?.x\" \n# renamed: team_analytics                                                \n\n# [26] \"How would you rate SA/Oâ€™s implementation and support?.x\"                          \n# renamed: rateO_implementationsupport \n\n# [27] \"Is there anything you would like to expand upon regarding your selection above?.x\"                \n# renamed: rateO_support_detail \n\n# [28] \"What could have been handled better?.x\"\n# renamed: O_lacking\n\n# [29] \"What is the biggest O-facilitated success your organization can point to (either with an individual donor relationship or in the aggregate)?.x\"                            \n# renamed: biggest_success\n\n# [30] \"How was the reality of O different from your expectations (both positive and negative)?.x\"                                 \n# renamed: reality_vs_expectations\n\n# [31] \"What advice would you have for future O users?.x\"        \n# renamed: client_advice\n\n# [32] \"How can O improve (in big and small ways)? Your complete candor would be much appreciated..x\"                \n# renamed: O_improve\n\n# [33] \"Timestamp.y\"                                             \n# renamed: reorder to beginning\n\n# [34] \"What prompted your adoption of O?.y\"                     \n# renamed: prompted_adoption2\n\n# [35] \"Why did you choose O over other platforms you were exploring?\"\n# renamed: O_over_competitors\n\n# [36] \"If \\\"unique product features\\\" was selected in the above question, can you please elaborate?\" \n# renamed: feature_detail \n\n# [37] \"Please indicate the degree to which you have experienced the following benefits from O (1 = To a small degree; 5 = To a great degree). [Improved number or quality of donor engagement touches (whether measured or anecdotal)].y\"\n# renamed: benefit_donorengagement2\n\n# [38] \"Please indicate the degree to which you have experienced the following benefits from O (1 = To a small degree; 5 = To a great degree). [Increase in financial contributions].y\"  \n# renamed: benefit_increasedgifts2\n\n# [39] \"Please indicate the degree to which you have experienced the following benefits from O (1 = To a small degree; 5 = To a great degree). [Cost savings].y\"\n# renamed: benefit_costsavings2 \n\n# [40] \"Please indicate the degree to which you have experienced the following benefits from O (1 = To a small degree; 5 = To a great degree). [Time savings].y\"                    \n# renamed: benefit_timesavings2  \n\n# [41] \"Please indicate the degree to which you have experienced the following benefits from O (1 = To a small degree; 5 = To a great degree). [Increased gift officer productivity].y\"\n# renamed: benefit_GOproductivity2\n\n# [42] \"Please share any other factors your team considered before selecting O (if applicable).\"               \n# renamed: choice_factors              \n\n# [43] \"Timestamp\"                                               \n\n# [44] \"Overall, how did the onboarding process go for you?\"     \n# renamed: onboard_overall \n\n# [45] \"What part of the onboarding process could O have handled better?\"                   \n# renamed: onboard_lacking\n\n# [46] \"Please expand on your selections above:...5\"             \n# renamed: onboard_lacking_detail\n\n# [47] \"What part of the onboarding process did O handle especially well?\"                  \n# renamed: onboard_wentwell\n\n# [48] \"Please expand on your selections above:...7\"             \n# renamed: onboard_wentwell_detail\n\n# [49] \"How effectively did we communicate during the onboarding process?\"\n# renamed: onboard_communication \n\n# [50] \"Please expand on your selections above:...9\"          \n# renamed: onboard_communication_detail\n\n# [51] \"How effectively did we interpret your needs during the onboarding process?\"         \n# renamed: onboard_interpretneeds\n\n# [52] \"Please expand on your selections above:...11\"  \n# renamed: onboard_interpretneeds_detail \n\n# [53] \"Are you willing to talk about your onboarding experience with future O clients?\"\n# renamed: onboard_shareexperience\n```\n:::",
    "supporting": [
      "SarahMcAlpine_finalproject_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}