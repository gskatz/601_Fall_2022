{
  "hash": "7a0a38f683a9618308991e43dc07478b",
  "result": {
    "markdown": "---\ntitle: \"Challenge 6\"\nauthor: \"Neeharika Karanam\"\ndescription: \"Visualizing Time and Relationships\"\ndate: \"12/03/2022\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_6\n  - hotel_bookings\n  - air_bnb\n  - fed_rate\n  - debt\n  - usa_households\n  - abc_poll\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(readxl)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to:\n\n1)  read in a data set, and describe the data set using both words and any supporting information (e.g., tables, etc)\n2)  tidy data (as needed, including sanity checks)\n3)  mutate variables as needed (including sanity checks)\n4)  create at least one graph including time (evolution)\n   - try to make them \"publication\" ready (optional)\n   - Explain why you choose the specific graph type\n5)  Create at least one graph depicting part-whole or flow relationships\n   - try to make them \"publication\" ready (optional)\n   - Explain why you choose the specific graph type\n\n[R Graph Gallery](https://r-graph-gallery.com/) is a good starting point for thinking about what information is conveyed in standard graph types, and includes example R code.\n\n(be sure to only include the category tags for the data you use!)\n\n## Read in data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nRawData <- read_excel(\"_data/debt_in_trillions.xlsx\")\nhead(RawData)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 8\n  `Year and Quarter` Mortgage `HE Revolving` Auto …¹ Credi…² Stude…³ Other Total\n  <chr>                 <dbl>          <dbl>   <dbl>   <dbl>   <dbl> <dbl> <dbl>\n1 03:Q1                  4.94          0.242   0.641   0.688   0.241 0.478  7.23\n2 03:Q2                  5.08          0.26    0.622   0.693   0.243 0.486  7.38\n3 03:Q3                  5.18          0.269   0.684   0.693   0.249 0.477  7.56\n4 03:Q4                  5.66          0.302   0.704   0.698   0.253 0.449  8.07\n5 04:Q1                  5.84          0.328   0.72    0.695   0.260 0.446  8.29\n6 04:Q2                  5.97          0.367   0.743   0.697   0.263 0.423  8.46\n# … with abbreviated variable names ¹​`Auto Loan`, ²​`Credit Card`,\n#   ³​`Student Loan`\n```\n:::\n:::\n\n\n### Briefly describe the data\n\nThe above dataset is about the cumulative debt which is held by some of the nation citizens which are most likely in the US and the dataset consists of 6 rows and 8 columns which explains the different kinds of debts in different quarters Like the auto loan, credit card, student loan.\n\n## Tidy Data (as needed)\n\nI think there is tidying required in the form of separating the combined field of year and the quarter.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsplit_quarter <- RawData %>%\n  separate(`Year and Quarter`,c('Year','Quarter'),sep = \":\")\n\nsplit_quarter\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 74 × 9\n   Year  Quarter Mortgage `HE Revolving` `Auto Loan` Credi…¹ Stude…² Other Total\n   <chr> <chr>      <dbl>          <dbl>       <dbl>   <dbl>   <dbl> <dbl> <dbl>\n 1 03    Q1          4.94          0.242       0.641   0.688   0.241 0.478  7.23\n 2 03    Q2          5.08          0.26        0.622   0.693   0.243 0.486  7.38\n 3 03    Q3          5.18          0.269       0.684   0.693   0.249 0.477  7.56\n 4 03    Q4          5.66          0.302       0.704   0.698   0.253 0.449  8.07\n 5 04    Q1          5.84          0.328       0.72    0.695   0.260 0.446  8.29\n 6 04    Q2          5.97          0.367       0.743   0.697   0.263 0.423  8.46\n 7 04    Q3          6.21          0.426       0.751   0.706   0.33  0.41   8.83\n 8 04    Q4          6.36          0.468       0.728   0.717   0.346 0.423  9.04\n 9 05    Q1          6.51          0.502       0.725   0.71    0.364 0.394  9.21\n10 05    Q2          6.70          0.528       0.774   0.717   0.374 0.402  9.49\n# … with 64 more rows, and abbreviated variable names ¹​`Credit Card`,\n#   ²​`Student Loan`\n```\n:::\n:::\n\n\n## Time Dependent Visualization\n\nI have performed the time dependent visualization for the auto load debt and then I will help in transforming the data so that I will be able to understand how the auto loan adds up when compared to the others.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nscatter_data <- split_quarter %>%\n  ggplot(mapping=aes(x = Year, y = `Auto Loan`))+ \n  geom_point(aes(color=Quarter))\nscatter_data\n```\n\n::: {.cell-output-display}\n![](NeeharikaKaranam_challenge6_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nNow I would like to pivot the data which will help me in further analysis\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndebt_split<- split_quarter%>%\n  pivot_longer(!c(Year,Quarter), names_to = \"DebtType\",values_to = \"DebtPercent\" )\n\ndebt_split\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 518 × 4\n   Year  Quarter DebtType     DebtPercent\n   <chr> <chr>   <chr>              <dbl>\n 1 03    Q1      Mortgage           4.94 \n 2 03    Q1      HE Revolving       0.242\n 3 03    Q1      Auto Loan          0.641\n 4 03    Q1      Credit Card        0.688\n 5 03    Q1      Student Loan       0.241\n 6 03    Q1      Other              0.478\n 7 03    Q1      Total              7.23 \n 8 03    Q2      Mortgage           5.08 \n 9 03    Q2      HE Revolving       0.26 \n10 03    Q2      Auto Loan          0.622\n# … with 508 more rows\n```\n:::\n:::\n\n## Visualizing Part-Whole Relationships\n\nNow as a part of the visualizing by part-whole I have done the following analysis by the debt type.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndebt_split_Plot <- debt_split%>%\n  ggplot(mapping=aes(x = Year, y = DebtPercent))\n\n\ndebt_split_Plot +\n  facet_wrap(~DebtType, scales = \"free\")\n```\n\n::: {.cell-output-display}\n![](NeeharikaKaranam_challenge6_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\ndebt_split_Plot + \n  geom_point(aes(color = DebtType))\n```\n\n::: {.cell-output-display}\n![](NeeharikaKaranam_challenge6_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n:::\n\n\nThe above graph shows the Mortage debt by influencing the total so I want to visualise how the various different types of the debt sway the total debt for the year therefore, I gace separated out the types of debt.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndebt_split_Plot+\n  geom_point() +\n  facet_wrap(~DebtType) +\n  scale_x_discrete(breaks = c('03','06','09',12,15,18,21))\n```\n\n::: {.cell-output-display}\n![](NeeharikaKaranam_challenge6_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nThe above graph demonstrates how the different mortgages drove the total debt but what can we do with the trends of the other types of the debts looks like and how does it actually looks like so I am going to get the scaled to free to see this kind of a visualization.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndebt_split_Plot+\n  geom_point(aes(color = Quarter,alpha=0.9,)) +\n  facet_wrap(~DebtType, scales = \"free_y\") + \n  guides(alpha=\"none\") +\n  labs(title=\"Debt by type from '03 - '21\")+\n  scale_x_discrete(breaks = c('03','06','09',12,15,18,21))\n```\n\n::: {.cell-output-display}\n![](NeeharikaKaranam_challenge6_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::",
    "supporting": [
      "NeeharikaKaranam_challenge6_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}