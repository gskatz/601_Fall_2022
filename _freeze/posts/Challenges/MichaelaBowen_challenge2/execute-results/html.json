{
  "hash": "017fc9cf1d8581e171bf131f759571e3",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2\"\nauthor: \"Michaela Bowen\"\ndesription: \"Data wrangling: using group() and summarise()\"\ndate: \"10/11/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - railroads\n  - hotel_bookings\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n\n## Read in the Data\n\n-   railroad\\*.csv or StateCounty2012.xls ⭐\n-   hotel_bookings.csv ⭐⭐⭐⭐\n\n:::panel-tabset\n# RailRoads\nHere I have read in the RailRoads Excel File Sheet. Extraneous and empty data has been removed, and Canada had its county named \"Canada\". \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\nrailroads <-read_excel(\"_data/StateCounty2012.xls\",\n                     skip = 4,\n                     col_names= c(\"state\", \"delete\",  \"county\",\n                                  \"delete\", \"employees\"))%>%\n  select(!contains(\"delete\"))%>%\n  filter(!str_detect(state, \"Total\"))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError: `path` does not exist: '_data/StateCounty2012.xls'\n```\n:::\n\n```{.r .cell-code}\nrailroads <-head(railroads, -2)%>%\n  mutate(county = ifelse(state==\"CANADA\", \"CANADA\", county))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in head(railroads, -2): object 'railroads' not found\n```\n:::\n\n```{.r .cell-code}\nrailroads\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'railroads' not found\n```\n:::\n:::\n\n\n## Describe the data\n\nThe variables are named *State*, *County*, and *Employees*. This is likely the data of railroad employees working at counties within the United States. There are 54 distinct \"States\" which include the District of Columbia and Canada, the other two are likely overseas or military. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nrailroads%>%\n  summarise(across(c(state,county), n_distinct))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in summarise(., across(c(state, county), n_distinct)): object 'railroads' not found\n```\n:::\n\n```{.r .cell-code}\nrailroads%>%\n  select(state)%>%\n  unique()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(., state): object 'railroads' not found\n```\n:::\n:::\n\n\n\nSummarizing across both columns we can see there are 54 distinct \"states\" and 1710 \"counties\", this means that there are multiple instances of counties throughout the United States, with some states having the same county names as others.\n\nI was also able to determine the entire number of railroad employees across all stations. When grouping by state, we are able to determine how many employees worked at railroad stations by state when this data was collected. I have grouped the data by state, and made it so we can see the total, mean, median, max and min employees by state. We can see in Texas, the state with the largest number of railroad employees, has only 1 employee at the least populated station and 4,235 employees at the most poulated. The average amount of employees at a texas railroad station is about 90 people. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n#giving the number of distinct counties and states\nrailroads%>%\n  summarise(across(c(state,county), n_distinct))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in summarise(., across(c(state, county), n_distinct)): object 'railroads' not found\n```\n:::\n\n```{.r .cell-code}\n#getting the total employees\nrailroads%>%\n  summarize(total_employees = sum(employees))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in summarize(., total_employees = sum(employees)): object 'railroads' not found\n```\n:::\n\n```{.r .cell-code}\n#sum, mean, min, and max employess for each state\nrailroads%>%\n  group_by(state)%>%\n  summarize(total_state_employees = sum(employees), mean_employees = mean(employees), min_employees = min(employees), max_employees= max(employees))%>%\n  arrange(desc(total_state_employees))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in group_by(., state): object 'railroads' not found\n```\n:::\n:::\n\n# Hotel Bookings\n\nHere I am attempting to read in and glean any information from this DataSet for Practice. Below I have Read in the data, and put it into a summary to better understand the data\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\nlibrary(lubridate)\nhotel_bookings <- read_csv(\"_data/hotel_bookings.csv\")\n```\n\n::: {.cell-output .cell-output-error}\n```\nError: '_data/hotel_bookings.csv' does not exist in current working directory ('C:/Users/micha/OneDrive/Documents/Graduate School/DACSS 601/601_Fall_2022/posts/Challenges').\n```\n:::\n\n```{.r .cell-code}\nprint(summarytools::dfSummary(hotel_bookings,\n                        varnumbers = FALSE,\n                        plain.ascii  = FALSE, \n                        style        = \"grid\", \n                        graph.magnif = 0.70, \n                        valid.col    = FALSE),\n      method = 'render',\n      table.classes = 'table-condensed')\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in summarytools::dfSummary(hotel_bookings, varnumbers = FALSE, plain.ascii = FALSE, : object 'hotel_bookings' not found\n```\n:::\n:::\n\nInitially after looking throught this data set I thought there was a lot of infomration, but because this is an earlier challenge I wanted to keep it preliminary here and work more with this data set in challenge 4 with the lubridate package\n\nI was able to determine that there are only two hotels in this data set the City Hotel and the Resort Hotel.\nBelow I was able to determine the average lead time by month for each hotel\n\n::: {.cell}\n\n```{.r .cell-code}\n#Resort Hotel Average lead time by month\nhotel_bookings%>%\n  group_by(arrival_date_month)%>%\n  filter(is_canceled == 0, hotel == \"Resort Hotel\")%>%\n  mutate(avg_lead_time_by_month = mean(lead_time))%>%\n  select(hotel, arrival_date_month, avg_lead_time_by_month)%>%\n  distinct()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in group_by(., arrival_date_month): object 'hotel_bookings' not found\n```\n:::\n\n```{.r .cell-code}\n#City Hotel Average lead time by month\nhotel_bookings%>%\n  group_by(arrival_date_month)%>%\n  filter(is_canceled == 0, hotel == \"City Hotel\")%>%\n  mutate(avg_lead_time_by_month = mean(lead_time))%>%\n  select(hotel, arrival_date_month, avg_lead_time_by_month)%>%\n  distinct()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in group_by(., arrival_date_month): object 'hotel_bookings' not found\n```\n:::\n:::\n\n\n\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}