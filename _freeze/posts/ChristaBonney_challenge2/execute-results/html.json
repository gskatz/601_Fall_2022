{
  "hash": "1a1d5aa2903d32dff61c6fb84b6b3fd9",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2: Data Wrangling\"\nauthor: \"Christa Bonney\"\ndesription: \"Data wrangling: using group() and summarise()\"\ndate: \"08/16/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - railroads\n  - faostat\n  - hotel_bookings\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(modeest)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in library(modeest): there is no package called 'modeest'\n```\n:::\n\n```{.r .cell-code}\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#read in birds.csv data\nbirds_data <- (read.csv(\"~/GIT/601_Fall_2022/posts/_data/birds.csv\"))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in file(file, \"rt\"): cannot open the connection\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#get data dimensions\ndim(birds_data)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): object 'birds_data' not found\n```\n:::\n\n```{.r .cell-code}\n#get column names (variables)\ncolnames(birds_data)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in is.data.frame(x): object 'birds_data' not found\n```\n:::\n\n```{.r .cell-code}\n#preview data\nhead(birds_data)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in head(birds_data): object 'birds_data' not found\n```\n:::\n\n```{.r .cell-code}\n#view birds_data data set\nview(birds_data)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in view(birds_data): object 'birds_data' not found\n```\n:::\n:::\n\n\nBased on the current data provided it can be surmised that what is being catalogued is agricultural data, specifically livestock - poultry (chickens, ducks, geese, etc.) and their FAO estimated monetary value per 1000 birds, for various countries/areas, from the years 1961 to 2018. Since all of the observations fall under the \"Live Animal\" 'Domain', I believe that the 'element code' pertains to the category that the associated 'item code' would fall under (ex. 'stocks' of 'chickens'). Altogether we are looking at 30977 observations across 14 variables. Of the 14 variables there are:\n\n\n\"Domain.Code\": consisting of qualitative ordinal values\n\n\"Domain\": consisting of qualitative ordinal values\n\n\"Area.Code\": consisting of qualitative ordinal values\n\n\"Area\": consisting of qualitative ordinal values\n\n\"Element.Code\": consisting of qualitative ordinal values\n\n\"Element\": consisting of qualitative ordinal values\n\n\"Item.Code\": consisting of qualitative ordinal values\n\n\"Item\": consisting of qualitative ordinal values \n\n\"Year.Code\": consisting of qualitative ordinal values  \n\n\"Year\": consisting of qualitative ordinal values\n\n\"Unit\": consisting of qualitative ordinal values\n\n\"Value\": consisting of quantitative continuous values\n\n\"Flag\": consisting of qualitative ordinal values\n\n\"Flag.Description\":consisting of qualitative ordinal values\n\nThe various variables are considered ordinal assuming the organization tracking this information has a curated selection of options for data input per each category.\n\nFor this assignment the focus will be on the \"Area\", \"Item\", \"Year\" and \"Value\" variables to generate information to examine global changes in the value per 1000 head of chickens in the years 2008 and 2018.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#get table of values in 'Area' column to get variety of countries featured in data set\n#tried to pipe, but got error that could not combine unrelated 'Domain' (a character vector) and 'Area.Code' (an integer vector) - using select function instead worked.\n\ntable(select(birds_data, \"Area\"))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(birds_data, \"Area\"): object 'birds_data' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#get table of values in 'Item' column to get variety of poultry species featured in dataset\n#tried to pipe, but got error that could not combine unrelated 'Domain' (a character vector) and 'Area.Code' (an integer vector) - using select function instead worked.\n\ntable(select(birds_data, \"Item\"))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(birds_data, \"Item\"): object 'birds_data' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#get table of values in 'Year' column to get range of years featured in data set\n#tried to pipe, but got error that could not combine unrelated 'Domain' (a character vector) and 'Area.Code' (an integer vector) - using select function instead worked.\n\ntable(select(birds_data, \"Year\"))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(birds_data, \"Year\"): object 'birds_data' not found\n```\n:::\n:::\n\n\nFrom these tables we can see that a large variety of countries and general geographical areas such as Yemen, Mainland China, Eastern Europe, and Saint Lucia, etc., have contributed agricultural data pertaining to their poultry production fields with data gathered from 1961 to 2018. The categorical selection options range from 'chickens' to 'ducks', 'geese', 'turkeys', and 'pigeons (and related fowl)'. \n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#select out desired columns to create a condensed data set\n\nselect_bird_data <- as_tibble(select(birds_data, \"Item\", \"Value\", \"Area\", \"Year\"))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(birds_data, \"Item\", \"Value\", \"Area\", \"Year\"): object 'birds_data' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#rename \"Value\" column to 'Value per 1000 Head Chickens' to reflect units of measurement for poultry\nselect_bird_data <- rename(select_bird_data, 'Value per 1000 Head Chickens' = 'Value')\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in rename(select_bird_data, `Value per 1000 Head Chickens` = \"Value\"): object 'select_bird_data' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#filter for 'chickens' and year '2018' so can examine global agricultural poultry value data for just chickens for year 2018\n\n#arrange to get max, use slice 1:10 to get top 10 countries where chickens were of highest value in 2018\n\n#arrange with desc() to get min, slice 1:10 to get top 10 countries where chickens were of lowest value in 2018\n\n#summarize data to get info for highest, lowest, average price, median, mode price, quantiles, and max/min price of chicken across globe in 2018\n\nselect_bird_data %>%\n  filter(Item == 'Chickens' & Year == '2018')\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in filter(., Item == \"Chickens\" & Year == \"2018\"): object 'select_bird_data' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#filter for 'chickens' and year '2018' so can examine global agricultural poultry value data for just chickens for year 2018\n\n#arrange to get max, use slice 1:10 to get top 10 countries where chickens were of highest value in 2018\n\n#arrange with desc() to get min, slice 1:10 to get top 10 countries where chickens were of lowest value in 2018\n\n#summarize data to get info for highest, lowest, average price, median, mode price, quantiles, and max/min price of chicken across globe in 2018\n\n#repeat steps to generate comparable data for 2008\n\nchickens_2018 <- (filter(select_bird_data, Item == 'Chickens' & Year == '2018'))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in filter(select_bird_data, Item == \"Chickens\" & Year == \"2018\"): object 'select_bird_data' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#could not generate ordered results with arrange() and 'sort', values stayed out of order regardless of the way filtering and grouping functions were ordered in the script\n\n#several attempts were made to generate centralizing data with summarize(): filtering, na.omit(), na.rm = TRUE, etc\n\n#resorted to finding alternate function, summary(), to get desired results\n\nsummary(chickens_2018, 'Value per 1000 Head Chickens')\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in summary(chickens_2018, \"Value per 1000 Head Chickens\"): object 'chickens_2018' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create function to calculate mode\ngetmode <- function(v) {\n   uniqv <- unique(v)\n   uniqv[which.max(tabulate(match(v, uniqv)))]\n}\n# Create 2018 chickens value vector from column\nv <- select(chickens_2018, 'Value per 1000 Head Chickens')\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(chickens_2018, \"Value per 1000 Head Chickens\"): object 'chickens_2018' not found\n```\n:::\n\n```{.r .cell-code}\n# Calculate the mode using mode function.\nresult <- getmode(v)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in unique(v): object 'v' not found\n```\n:::\n\n```{.r .cell-code}\nprint(result)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in print(result): object 'result' not found\n```\n:::\n\n```{.r .cell-code}\n#the printed results return the values in the whole column\n\n#not a successful effort to calculate the mode\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#could not get method of creating a mode function to work\n\n#installed 'modeest' package, and used mlv(Mysamples, method = \"mfv\") to attempt to calculate mode for value of chickens per 1000 head in 2018 (global)\n\n#initially did not work\n\n#had to convert column data 'Value per 1000 Head Chickens' into a matrix, then into a vector, to be able to apply the mlv() function\n\n#got return of NA  - since data included a missing/NA value - so also used na.rm = TRUE to get numerical values \n\nchix_2018V <- as.vector(as.matrix(select(chickens_2018, 'Value per 1000 Head Chickens')))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(chickens_2018, \"Value per 1000 Head Chickens\"): object 'chickens_2018' not found\n```\n:::\n\n```{.r .cell-code}\nmlv(chix_2018V, method = \"mfv\", na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in mlv(chix_2018V, method = \"mfv\", na.rm = TRUE): could not find function \"mlv\"\n```\n:::\n\n```{.r .cell-code}\n#calculate Standard Deviation\nsd(chix_2018V, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in is.data.frame(x): object 'chix_2018V' not found\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#filter for global chicken value data for only year 2008\nchickens_2008 <- (filter(select_bird_data, Item == 'Chickens' & Year == '2008'))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in filter(select_bird_data, Item == \"Chickens\" & Year == \"2008\"): object 'select_bird_data' not found\n```\n:::\n\n```{.r .cell-code}\n#use 'summary' function to generate centralizing and other data\nsummary(chickens_2008, 'Value per 1000 Head Chickens')\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in summary(chickens_2008, \"Value per 1000 Head Chickens\"): object 'chickens_2008' not found\n```\n:::\n\n```{.r .cell-code}\n#calculate mode for 2008 global chicken value data\nchix_2008V <- as.vector(as.matrix(select(chickens_2008, 'Value per 1000 Head Chickens')))\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in select(chickens_2008, \"Value per 1000 Head Chickens\"): object 'chickens_2008' not found\n```\n:::\n\n```{.r .cell-code}\nmlv(chix_2008V, method = \"mfv\", na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in mlv(chix_2008V, method = \"mfv\", na.rm = TRUE): could not find function \"mlv\"\n```\n:::\n\n```{.r .cell-code}\n#calculate Standard Deviation\nsd(chix_2008V, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in is.data.frame(x): object 'chix_2008V' not found\n```\n:::\n:::\n\n\n\nValue per 1000 Head Chickens in 2008:\n\nmean: 318818\nmedian: 16025\nmode: 5, 18, 878\n\nstandard deviation: 1910971\nmin: 4\nmax: 18969655\n1st quantile: 2282\n3rd quantile: 107146\n\n\nValue per 1000 Head Chickens in 2018:\n\nmean: 396772\nmedian: 19374\nmode: 40\n\nstandard deviation: 1533739\nmin: 4\nmax: 23707134\n1st quantile: 2900\n3rd quantile: 123910\n\nThe desire was to compare the reported global values per 1000 head chickens between 2008 and 2018 to see if the overall value had increased with the 10yr interlude, or had decreased. From this information we can see that the ranges in reported global values per 1000 head chickens for both the 2008 and 2018 data sets is quite substantial, evidenced by the minimum, maximum, and SD values for each. The minimum reported global values differ little, being 4 for each. While the maximum values (2008: 18,969,655; 2018: 23,707,134) and mean values (2008: 318,818; 2018: 396,772) indicate a significant increase in the global values for 1000 head chickens in the 10 year period.\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}