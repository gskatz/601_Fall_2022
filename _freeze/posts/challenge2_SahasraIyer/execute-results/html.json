{
  "hash": "f3046d68f5ea36ba9b9a33777466effa",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2 Instructions\"\nauthor: \"Sahasra Iyer\"\ndesription: \"Data wrangling: using group() and summarise()\"\ndate: \"08/16/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - railroads\n  - faostat\n  - hotel_bookings\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is to\n\n1)  read in a data set, and describe the data using both words and any supporting information (e.g., tables, etc)\n2)  provide summary statistics for different interesting groups within the data, and interpret those statistics\n\n## Read in the Data\n\nRead in one (or more) of the following data sets, available in the `posts/_data` folder, using the correct R package and command.\n\n-   railroad\\*.csv or StateCounty2012.xls ⭐\n-   FAOstat\\*.csv or birds.csv ⭐⭐⭐\n-   hotel_bookings.csv ⭐⭐⭐⭐\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Read in the railroad dataset\nclean_county_data = read_csv(\"_data/railroad_2012_clean_county.csv\")\n\n# Displaying the top 10 rows \nhead(clean_county_data, n = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 3\n   state county               total_employees\n   <chr> <chr>                          <dbl>\n 1 AE    APO                                2\n 2 AK    ANCHORAGE                          7\n 3 AK    FAIRBANKS NORTH STAR               2\n 4 AK    JUNEAU                             3\n 5 AK    MATANUSKA-SUSITNA                  2\n 6 AK    SITKA                              1\n 7 AK    SKAGWAY MUNICIPALITY              88\n 8 AL    AUTAUGA                          102\n 9 AL    BALDWIN                          143\n10 AL    BARBOUR                            1\n```\n:::\n:::\n\n\nAdd any comments or documentation as needed. More challenging data may require additional code chunks and documentation.\n\n## Describe the data\n\nUsing a combination of words and results of R commands, can you provide a high level description of the data? Describe as efficiently as possible where/how the data was (likely) gathered, indicate the cases and variables (both the interpretation and any details you deem useful to the reader to fully understand your chosen data).\n\n## The data looks to be collected from the railroad department of US's  different counties, with a mapping of the state to each county. It contains the counts of the total employees of each county working in the railroad department. The data seems to be gathered as an effort for conducting a census of the railroad employees. The cases are the total employee counts for each county and the state the county belongs to, and the variables are \"state\", \"county\" and \"total_employees\".\n\n::: {.cell}\n\n:::\n\n\n## Provide Grouped Summary Statistics\n\nConduct some exploratory data analysis, using dplyr commands such as `group_by()`, `select()`, `filter()`, and `summarise()`. Find the central tendency (mean, median, mode) and dispersion (standard deviation, mix/max/quantile) for different subgroups within the data set.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Function for computing the mode \nmode <- function(group_num){\n  which.max(tabulate(group_num))\n}\n# Getting mean, median and mode of total_employees\ngrouped_data_stats <- clean_county_data %>%\n  group_by(state) %>%\n  summarise(total_emp = sum(total_employees),\n            avg_emp = mean(total_employees), \n            median_emp = median(total_employees), \n            mode_emp = mode(total_employees),\n            sd_emp = sd(total_employees), \n            quant_0.25_emp = quantile(total_employees, 0.25),\n            quant_0.75_emp = quantile(total_employees, 0.75),\n            quant_0.5_emp = quantile(total_employees, 0.5),\n            min_emp = min(total_employees),\n            max_emp = max(total_employees)) %>%\n  arrange(desc(sd_emp))\n\nhead(grouped_data_stats, n=5)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 × 11\n  state total_emp avg_emp media…¹ mode_…² sd_emp quant…³ quant…⁴ quant…⁵ min_emp\n  <chr>     <dbl>   <dbl>   <dbl>   <int>  <dbl>   <dbl>   <dbl>   <dbl>   <dbl>\n1 IL        19131    186.      42      14   829.    14       98       42       1\n2 DE         1495    498.     158      62   674.   110      716.     158      62\n3 NY        17050    280.      71      11   591.    27      196       71       5\n4 CA        13137    239.      61       2   549.    12.5    200.      61       1\n5 CT         2592    324      125      26   520.    63.8    231      125      26\n# … with 1 more variable: max_emp <dbl>, and abbreviated variable names\n#   ¹​median_emp, ²​mode_emp, ³​quant_0.25_emp, ⁴​quant_0.75_emp, ⁵​quant_0.5_emp\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Finding county with maximum employees\nfilter(clean_county_data, total_employees==max(total_employees))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 3\n  state county total_employees\n  <chr> <chr>            <dbl>\n1 IL    COOK              8207\n```\n:::\n\n```{.r .cell-code}\n# Construct boxplot of total employees across all counties\nboxplot(grouped_data_stats$total_emp)\n```\n\n::: {.cell-output-display}\n![](challenge2_SahasraIyer_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\n### Explain and Interpret\n\nBe sure to explain why you choose a specific group. Comment on the interpretation of any interesting differences between groups that you uncover. This section can be integrated with the exploratory data analysis, just be sure it is included.\n\n\n## I chose to group the data by  state to get a count of total employees working in the railroad department in each state. From the boxplot, we can observe that the median is somewhere in the range of 3000-500 employees, while the maximum employees are found to be closer to 20000. Further, we have very few outliers (data points that go beyond the interquartile ranges). \n",
    "supporting": [
      "challenge2_SahasraIyer_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}