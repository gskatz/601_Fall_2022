{
  "hash": "4b80a5d0bff42c2ec5dc0cb223badb42",
  "result": {
    "markdown": "---\ntitle: \"Challenge 6 \"\nauthor: \"Matthew O'Neill\"\ndescription: \"Visualizing Time and Relationships\"\ndate: \"08/23/2022\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_6\n  - hotel_bookings\n  - air_bnb\n  - fed_rate\n  - debt\n  - usa_households\n  - abc_poll\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(lubridate)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Read in data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata<- read_csv(\"_data/FedFundsRate.csv\",show_col_types = FALSE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"Year\"                         \"Month\"                       \n [3] \"Day\"                          \"Federal Funds Target Rate\"   \n [5] \"Federal Funds Upper Target\"   \"Federal Funds Lower Target\"  \n [7] \"Effective Federal Funds Rate\" \"Real GDP (Percent Change)\"   \n [9] \"Unemployment Rate\"            \"Inflation Rate\"              \n```\n:::\n\n```{.r .cell-code}\ndim(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 904  10\n```\n:::\n\n```{.r .cell-code}\ndata\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 904 × 10\n    Year Month   Day Federal F…¹ Feder…² Feder…³ Effec…⁴ Real …⁵ Unemp…⁶ Infla…⁷\n   <dbl> <dbl> <dbl>       <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>\n 1  1954     7     1          NA      NA      NA    0.8      4.6     5.8      NA\n 2  1954     8     1          NA      NA      NA    1.22    NA       6        NA\n 3  1954     9     1          NA      NA      NA    1.06    NA       6.1      NA\n 4  1954    10     1          NA      NA      NA    0.85     8       5.7      NA\n 5  1954    11     1          NA      NA      NA    0.83    NA       5.3      NA\n 6  1954    12     1          NA      NA      NA    1.28    NA       5        NA\n 7  1955     1     1          NA      NA      NA    1.39    11.9     4.9      NA\n 8  1955     2     1          NA      NA      NA    1.29    NA       4.7      NA\n 9  1955     3     1          NA      NA      NA    1.35    NA       4.6      NA\n10  1955     4     1          NA      NA      NA    1.43     6.7     4.7      NA\n# … with 894 more rows, and abbreviated variable names\n#   ¹​`Federal Funds Target Rate`, ²​`Federal Funds Upper Target`,\n#   ³​`Federal Funds Lower Target`, ⁴​`Effective Federal Funds Rate`,\n#   ⁵​`Real GDP (Percent Change)`, ⁶​`Unemployment Rate`, ⁷​`Inflation Rate`\n```\n:::\n\n```{.r .cell-code}\nrange(data$Year, na.rm=TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1954 2017\n```\n:::\n:::\n\n\n### Data Description\n\nThe data contains various economic and financial metrics for the United States from 1954 to 2017 including the federal interest rate, GDP, the unemployment rate, and the inflation rate.\nMost of these metrics are reported monthly but some metrics, like GDP, are reported quarterly. No metrics are reported more often than monthly however. Overall there are 904 months reports in the dataset. The target rate of the federal funds rate is reports in different ways during different time periods, but for the purposes of this assignment, this probably will not matter.\n\n## Tidy Data\n\nSince we will be working with our data on a month to month to month basis, it makes sense to combine the month, day, and year values into one data. Further than that, we don't really need the day value, as we will never have more than one value per month. \n\n::: {.cell}\n\n```{.r .cell-code}\ndata<-data%>%\n  mutate(date = str_c(`Year`,`Month`, `Day`, sep=\"/\"),date = ymd(date))\n\ndata$Month_Yr <- format(as.Date(data$date), \"%Y-%m\")\n\ndata <- data[-c(1,2,3)]\ndata <- data[-8]\ndata <- select(data, Month_Yr, everything())\n```\n:::\n\n\nWe could mutate the data to have categories inflation rate to show how it relates to the Federal Funds rate, as right now, the federal funds rate has been increasing due to inflation.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrange(data$`Inflation Rate`, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1]  0.6 13.6\n```\n:::\n\n```{.r .cell-code}\nrange(data$`Effective Federal Funds Rate`, na.rm = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1]  0.07 19.10\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- mutate(data, `Inflation Bracket` = case_when(\n        `Inflation Rate` < 2 ~ \"Low Inflation\",\n        `Inflation Rate` < 5 ~ \"Normal Inflation\",\n        `Inflation Rate` < 8 ~ \"Above Average Inflation\",\n        `Inflation Rate` < 10 ~ \"High Inflation\",\n        `Inflation Rate` >= 10 ~ \"Hyperinflation\"\n))\n\ndata <- mutate(data, `Interest Rate Bracket` = case_when(\n        `Effective Federal Funds Rate` < 0.5 ~ \"Low Interest\",\n        `Effective Federal Funds Rate` < 3.0 ~ \"Normal Interest\",\n        `Effective Federal Funds Rate` < 7.0 ~ \"High Interest\",\n        `Effective Federal Funds Rate` < 20.0 ~ \"Very High Interest\",\n))\n```\n:::\n\n\n\n## Time Dependent Visualization\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data, aes(x=`Month_Yr`, y=`Real GDP (Percent Change)`)) + \n  geom_point()+\n  theme_bw() +\n  labs(title =\"GDP over time\", y = \"GDP\", x = \"Time(months)\")\n```\n\n::: {.cell-output-display}\n![](Challenge6_MatthewONeill_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(data=subset(data,!is.na(`Inflation Rate`)), aes(x=`Month_Yr`, y=`Effective Federal Funds Rate`)) + \n  geom_point()+\n  theme_bw() +\n  labs(title =\"Interest Rates over time\", y = \"Federal Funds Rate\", x = \"Time(months)\")\n```\n\n::: {.cell-output-display}\n![](Challenge6_MatthewONeill_files/figure-html/unnamed-chunk-7-2.png){width=672}\n:::\n:::\n\nThe above two graphs are very basic time series graphs of GDP and Interest Rates.Since GDP is a change relative to a previous quarter, it makes sense that the GDP doesn't have a clear trend and tends to fluxuate around around 4-5%. The interest rate time series plot is much clearer and easier to understand, as interest rates are not representation of changes. \n\n## Visualizing Part-Whole Relationships\n\nFinally we can check the relationship with interest rates and inflation using a part-whole relationship visualization. We can compare the count of months with various levels of inflation during months of various rate rate levels.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrem <- subset(data,!is.na(`Inflation Rate`),!is.na(`Effective Federal Funds Rate`))\nrem <- count(rem, `Inflation Bracket`, `Interest Rate Bracket`)\n\nggplot(rem, aes(fill=rem$`Interest Rate Bracket`, y=rem$n, x=rem$`Inflation Bracket`)) + \n    geom_bar(position=\"dodge\", stat=\"identity\")+\n  labs(title =\"Interest Rates by Inflation\", y = \"Count\", x = \"Inflation Rate Bracket\")\n```\n\n::: {.cell-output-display}\n![](Challenge6_MatthewONeill_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\nThe visualization is consistent with what you might expect. High interest rates leads to less lending, which leads to lower inflation. Periods of low inflation have lower interest rates to pair with it, because there is less worry of inflation. During periods of high inflation, there is almost strictly high interest rates because the economy needs to reduce the money supply.\n",
    "supporting": [
      "Challenge6_MatthewONeill_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}